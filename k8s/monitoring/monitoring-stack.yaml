apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: deployment-tracker-56bf45cb6b-
    labels:
      app: deployment-tracker
      pod-template-hash: 56bf45cb6b
    name: deployment-tracker-56bf45cb6b-vr4hp
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: deployment-tracker-56bf45cb6b
  spec:
    containers:
    - command:
      - /bin/bash
      - -c
      - |
        pip install --no-cache-dir kubernetes==28.1.0 requests==2.31.0 && \
        python3 -u /app/deployment-tracker.py
      env:
      - name: GRAFANA_URL
        value: http://grafana.monitoring.svc.cluster.local:3000
      - name: GRAFANA_USER
        value: admin
      - name: GRAFANA_PASSWORD
        value: GRAFANA_ADMIN_PASSWORD_PLACEHOLDER
      - name: GITHUB_TOKEN
      image: python:3.11-slim
      imagePullPolicy: IfNotPresent
      name: tracker
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 100m
          memory: 128Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /app
        name: script
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-mf2d5
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: deployment-tracker
    serviceAccountName: deployment-tracker
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 493
        name: deployment-tracker-script
      name: script
    - name: kube-api-access-mf2d5
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:45:55Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:45:48Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:45:55Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:45:55Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:45:48Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 100m
        memory: 128Mi
      containerID: containerd://ddba41e687294da35f03f7ab049980e42ea3eb49990e0c8cfd5cba9b53798d05
      image: docker.io/library/python:3.11-slim
      imageID: docker.io/library/python@sha256:9bffe4353b925a1656688797ebc68f9c525e79b1d377a764d232182a519eeec4
      lastState: {}
      name: tracker
      ready: true
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 100m
          memory: 128Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:45:55Z"
      user:
        linux:
          gid: 0
          supplementalGroups:
          - 0
      volumeMounts:
      - mountPath: /app
        name: script
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-mf2d5
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.249
    podIPs:
    - ip: 10.42.0.249
    qosClass: Burstable
    startTime: "2025-10-06T07:45:48Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: grafana-
    labels:
      app: grafana
      apps.kubernetes.io/pod-index: "0"
      controller-revision-hash: grafana-bf466f7dd
      statefulset.kubernetes.io/pod-name: grafana-0
    name: grafana-0
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: grafana
  spec:
    containers:
    - env:
      - name: GF_SECURITY_ADMIN_USER
        value: admin
      - name: GF_SECURITY_ADMIN_PASSWORD
        value: GRAFANA_ADMIN_PASSWORD_PLACEHOLDER
      - name: GF_INSTALL_PLUGINS
      - name: GF_PATHS_DATA
        value: /var/lib/grafana
      - name: GF_PATHS_LOGS
        value: /var/lib/grafana/logs
      - name: GF_PATHS_PLUGINS
        value: /var/lib/grafana/plugins
      - name: GF_AUTH_PROXY_ENABLED
        value: "false"
      - name: GF_AUTH_PROXY_HEADER_NAME
        value: X-Auth-Request-Email
      - name: GF_AUTH_PROXY_HEADER_PROPERTY
        value: email
      - name: GF_AUTH_PROXY_AUTO_SIGN_UP
        value: "true"
      - name: GF_USERS_AUTO_ASSIGN_ORG_ROLE
        value: Admin
      - name: GF_AUTH_DISABLE_LOGIN_FORM
        value: "false"
      - name: GF_AUTH_GOOGLE_ENABLED
        value: "true"
      - name: GF_AUTH_GOOGLE_CLIENT_ID
        value: GOOGLE_CLIENT_ID_PLACEHOLDER
      - name: GF_AUTH_GOOGLE_CLIENT_SECRET
        value: GOOGLE_CLIENT_SECRET_PLACEHOLDER
      - name: GF_AUTH_GOOGLE_SCOPES
        value: openid email profile
      - name: GF_AUTH_GOOGLE_AUTH_URL
        value: https://accounts.google.com/o/oauth2/v2/auth
      - name: GF_AUTH_GOOGLE_TOKEN_URL
        value: https://oauth2.googleapis.com/token
      - name: GF_AUTH_GOOGLE_API_URL
        value: https://openidconnect.googleapis.com/v1/userinfo
      - name: GF_AUTH_GOOGLE_ALLOWED_EMAILS
        value: dcversus@gmail.com
      - name: GF_AUTH_GOOGLE_ALLOW_SIGN_UP
        value: "true"
      - name: GF_SERVER_ROOT_URL
        value: https://grafana.theedgestory.org
      - name: GF_SERVER_DOMAIN
        value: grafana.theedgestory.org
      image: grafana/grafana:10.2.3
      imagePullPolicy: IfNotPresent
      name: grafana
      ports:
      - containerPort: 3000
        name: http
        protocol: TCP
      resources:
        limits:
          cpu: 500m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/lib/grafana
        name: grafana-storage
      - mountPath: /etc/grafana/provisioning/datasources
        name: grafana-datasources
      - mountPath: /etc/grafana/provisioning/dashboards
        name: grafana-dashboards-provider
      - mountPath: /etc/grafana/dashboards/red
        name: grafana-dashboards
      - mountPath: /etc/grafana/dashboards/k8s
        name: grafana-dashboard-kubernetes
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-lgbbc
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: grafana-0
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    subdomain: grafana
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: grafana-storage
      persistentVolumeClaim:
        claimName: grafana-storage
    - configMap:
        defaultMode: 420
        name: grafana-datasources
      name: grafana-datasources
    - configMap:
        defaultMode: 420
        name: grafana-dashboards-provider
      name: grafana-dashboards-provider
    - configMap:
        defaultMode: 420
        name: grafana-dashboards
      name: grafana-dashboards
    - configMap:
        defaultMode: 420
        name: grafana-dashboard-kubernetes
      name: grafana-dashboard-kubernetes
    - name: kube-api-access-lgbbc
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-07T17:57:42Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-07T17:57:41Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-07T17:57:42Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-07T17:57:42Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-07T17:57:41Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 100m
        memory: 256Mi
      containerID: containerd://e37375b359f5cf2cadfea6bd1028369593ea7ebb0fc3a7c33dfd5b018d648803
      image: docker.io/grafana/grafana:10.2.3
      imageID: docker.io/grafana/grafana@sha256:6b5b37eb35bbf30e7f64bd7f0fd41c0a5b7637f65d3bf93223b04a192b8bf3e2
      lastState: {}
      name: grafana
      ready: true
      resources:
        limits:
          cpu: 500m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-07T17:57:42Z"
      user:
        linux:
          gid: 0
          supplementalGroups:
          - 0
      volumeMounts:
      - mountPath: /var/lib/grafana
        name: grafana-storage
      - mountPath: /etc/grafana/provisioning/datasources
        name: grafana-datasources
      - mountPath: /etc/grafana/provisioning/dashboards
        name: grafana-dashboards-provider
      - mountPath: /etc/grafana/dashboards/red
        name: grafana-dashboards
      - mountPath: /etc/grafana/dashboards/k8s
        name: grafana-dashboard-kubernetes
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-lgbbc
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.101
    podIPs:
    - ip: 10.42.0.101
    qosClass: Burstable
    startTime: "2025-10-07T17:57:41Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: kafka-exporter-6c55c7d876-
    labels:
      app: kafka-exporter
      pod-template-hash: 6c55c7d876
    name: kafka-exporter-6c55c7d876-44z6w
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: kafka-exporter-6c55c7d876
  spec:
    containers:
    - args:
      - --kafka.server=kafka-cluster-kafka-bootstrap.infrastructure.svc.cluster.local:9092
      - --web.listen-address=:9308
      - --web.telemetry-path=/metrics
      image: danielqsj/kafka-exporter:v1.7.0
      imagePullPolicy: IfNotPresent
      name: kafka-exporter
      ports:
      - containerPort: 9308
        name: metrics
        protocol: TCP
      resources:
        limits:
          cpu: 500m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 128Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-p9zxw
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-p9zxw
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:23Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:17Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:23Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:23Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:17Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 100m
        memory: 128Mi
      containerID: containerd://4404ee7bec116e5228e23401ace373bd9d43f801b01450262309ea3437fe3332
      image: docker.io/danielqsj/kafka-exporter:v1.7.0
      imageID: docker.io/danielqsj/kafka-exporter@sha256:e90b7ba06d97717224d67774fc7f208c26d1c4dafd4c8011185b0d45b5b38ace
      lastState: {}
      name: kafka-exporter
      ready: true
      resources:
        limits:
          cpu: 500m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 128Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:03:23Z"
      user:
        linux:
          gid: 0
          supplementalGroups:
          - 0
          - 10
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-p9zxw
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.233
    podIPs:
    - ip: 10.42.0.233
    qosClass: Burstable
    startTime: "2025-10-06T07:03:17Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: kube-state-metrics-7b97ff5559-
    labels:
      app: kube-state-metrics
      pod-template-hash: 7b97ff5559
    name: kube-state-metrics-7b97ff5559-hm8gw
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: kube-state-metrics-7b97ff5559
  spec:
    containers:
    - image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.1
      imagePullPolicy: IfNotPresent
      livenessProbe:
        failureThreshold: 3
        httpGet:
          path: /healthz
          port: 8080
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      name: kube-state-metrics
      ports:
      - containerPort: 8080
        name: http-metrics
        protocol: TCP
      - containerPort: 8081
        name: telemetry
        protocol: TCP
      readinessProbe:
        failureThreshold: 3
        httpGet:
          path: /
          port: 8081
          scheme: HTTP
        initialDelaySeconds: 5
        periodSeconds: 10
        successThreshold: 1
        timeoutSeconds: 5
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 64Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-dkdwg
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: kube-state-metrics
    serviceAccountName: kube-state-metrics
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-dkdwg
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:50Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:47Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:38:01Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:38:01Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:47Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 50m
        memory: 64Mi
      containerID: containerd://83523f80a1a993842d11db320047a7419f379d166f39e357eab43103707fe77e
      image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.1
      imageID: registry.k8s.io/kube-state-metrics/kube-state-metrics@sha256:af8220f534938de121a694cb7314313a6195c9d494fc30bfa6885b08a276bb82
      lastState: {}
      name: kube-state-metrics
      ready: true
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 64Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T08:37:49Z"
      user:
        linux:
          gid: 65534
          supplementalGroups:
          - 65534
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-dkdwg
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.52
    podIPs:
    - ip: 10.42.0.52
    qosClass: Burstable
    startTime: "2025-10-06T08:37:47Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: loki-
    labels:
      app: loki
      apps.kubernetes.io/pod-index: "0"
      controller-revision-hash: loki-85d558c5dc
      statefulset.kubernetes.io/pod-name: loki-0
    name: loki-0
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: loki
  spec:
    containers:
    - args:
      - -config.file=/etc/loki/loki.yaml
      image: grafana/loki:2.9.3
      imagePullPolicy: IfNotPresent
      name: loki
      ports:
      - containerPort: 3100
        name: http
        protocol: TCP
      resources:
        limits:
          cpu: 500m
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 256Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/loki
        name: config
      - mountPath: /loki
        name: storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5n7bj
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: loki-0
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    subdomain: loki
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: storage
      persistentVolumeClaim:
        claimName: storage-loki-0
    - configMap:
        defaultMode: 420
        name: loki-config
      name: config
    - name: kube-api-access-5n7bj
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:21:54Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:21:49Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:21:54Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:21:54Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:21:49Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 100m
        memory: 256Mi
      containerID: containerd://070cd9e24e6d208f401e9d3f2bb8d3d43601334882fd8b9e6c10f75fd4427d36
      image: docker.io/grafana/loki:2.9.3
      imageID: docker.io/grafana/loki@sha256:eb92f1a439171542fd718f929fad38c917b3cad15ec830ba4742e2ba5ab03313
      lastState: {}
      name: loki
      ready: true
      resources:
        limits:
          cpu: 500m
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 256Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:21:53Z"
      user:
        linux:
          gid: 10001
          supplementalGroups:
          - 10001
      volumeMounts:
      - mountPath: /etc/loki
        name: config
      - mountPath: /loki
        name: storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-5n7bj
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.240
    podIPs:
    - ip: 10.42.0.240
    qosClass: Burstable
    startTime: "2025-10-06T07:21:49Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: node-exporter-
    labels:
      app: node-exporter
      controller-revision-hash: 66589d4bb4
    name: node-exporter-vbtw4
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: node-exporter
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - ubuntu-16gb-hel1-1
    containers:
    - args:
      - --path.procfs=/host/proc
      - --path.sysfs=/host/sys
      - --path.rootfs=/host/root
      - --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
      - --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
      image: prom/node-exporter:v1.7.0
      imagePullPolicy: IfNotPresent
      name: node-exporter
      ports:
      - containerPort: 9100
        hostPort: 9100
        name: metrics
        protocol: TCP
      resources:
        limits:
          cpu: 200m
          memory: 128Mi
        requests:
          cpu: 50m
          memory: 64Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /host/proc
        name: proc
        readOnly: true
      - mountPath: /host/sys
        name: sys
        readOnly: true
      - mountPath: /host/root
        mountPropagation: HostToContainer
        name: root
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ncc5j
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostNetwork: true
    hostPID: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/network-unavailable
      operator: Exists
    volumes:
    - hostPath:
        path: /proc
        type: ""
      name: proc
    - hostPath:
        path: /sys
        type: ""
      name: sys
    - hostPath:
        path: /
        type: ""
      name: root
    - name: kube-api-access-ncc5j
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:52Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:48Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:52Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:52Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:37:48Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 50m
        memory: 64Mi
      containerID: containerd://1be36426109fc8eeb9fd24a130a43ab3d0823620a7c810c569f610a57ff4c891
      image: docker.io/prom/node-exporter:v1.7.0
      imageID: docker.io/prom/node-exporter@sha256:4cb2b9019f1757be8482419002cb7afe028fdba35d47958829e4cfeaf6246d80
      lastState: {}
      name: node-exporter
      ready: true
      resources:
        limits:
          cpu: 200m
          memory: 128Mi
        requests:
          cpu: 50m
          memory: 64Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T08:37:51Z"
      user:
        linux:
          gid: 65534
          supplementalGroups:
          - 65534
      volumeMounts:
      - mountPath: /host/proc
        name: proc
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /host/sys
        name: sys
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /host/root
        name: root
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-ncc5j
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 46.62.223.198
    podIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    qosClass: Burstable
    startTime: "2025-10-06T08:37:48Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: postgresql-exporter-67ccd987b4-
    labels:
      app: postgresql-exporter
      pod-template-hash: 67ccd987b4
    name: postgresql-exporter-67ccd987b4-qnw7d
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: postgresql-exporter-67ccd987b4
  spec:
    containers:
    - env:
      - name: DATA_SOURCE_NAME
        value: postgresql://postgres:postgres-admin-2024@postgresql-0.postgresql.infrastructure.svc.cluster.local:5432/postgres?sslmode=disable
      image: prometheuscommunity/postgres-exporter:v0.15.0
      imagePullPolicy: IfNotPresent
      name: postgres-exporter
      ports:
      - containerPort: 9187
        name: metrics
        protocol: TCP
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 64Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-z2hd8
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-z2hd8
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:22Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:16Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:22Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:22Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:16Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 50m
        memory: 64Mi
      containerID: containerd://2020c3e18b7c19e2b4d18e39fde5e6f916efc3182111dd75497e9daf084a56da
      image: docker.io/prometheuscommunity/postgres-exporter:v0.15.0
      imageID: docker.io/prometheuscommunity/postgres-exporter@sha256:386b12d19eab2a37d7cd8ca8b4c7491cc7a830d9581f49af6c98a393da9605e6
      lastState: {}
      name: postgres-exporter
      ready: true
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 64Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:03:22Z"
      user:
        linux:
          gid: 65534
          supplementalGroups:
          - 65534
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-z2hd8
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.231
    podIPs:
    - ip: 10.42.0.231
    qosClass: Burstable
    startTime: "2025-10-06T07:03:16Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: prometheus-
    labels:
      app: prometheus
      apps.kubernetes.io/pod-index: "0"
      controller-revision-hash: prometheus-84dcc9d9d9
      statefulset.kubernetes.io/pod-name: prometheus-0
    name: prometheus-0
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: prometheus
  spec:
    containers:
    - args:
      - --config.file=/etc/prometheus/prometheus.yml
      - --storage.tsdb.path=/prometheus
      - --storage.tsdb.retention.time=90d
      - --web.enable-lifecycle
      image: prom/prometheus:v2.48.0
      imagePullPolicy: IfNotPresent
      name: prometheus
      ports:
      - containerPort: 9090
        name: http
        protocol: TCP
      resources:
        limits:
          cpu: "1"
          memory: 2Gi
        requests:
          cpu: 250m
          memory: 512Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/prometheus
        name: config
      - mountPath: /prometheus
        name: storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zj27z
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: prometheus-0
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: prometheus
    serviceAccountName: prometheus
    subdomain: prometheus
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - configMap:
        defaultMode: 420
        name: prometheus-config
      name: config
    - name: storage
      persistentVolumeClaim:
        claimName: prometheus-storage
    - name: kube-api-access-zj27z
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:42:17Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:42:16Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:42:17Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:42:17Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T08:42:16Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 250m
        memory: 512Mi
      containerID: containerd://8656b81228f0c5e1596c0df2cc847a77fe6f15425fd3d0bd5aaa059cb8294f80
      image: docker.io/prom/prometheus:v2.48.0
      imageID: docker.io/prom/prometheus@sha256:b440bc0e8aa5bab44a782952c09516b6a50f9d7b2325c1ffafac7bc833298e2e
      lastState: {}
      name: prometheus
      ready: true
      resources:
        limits:
          cpu: "1"
          memory: 2Gi
        requests:
          cpu: 250m
          memory: 512Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T08:42:17Z"
      user:
        linux:
          gid: 65534
          supplementalGroups:
          - 65534
      volumeMounts:
      - mountPath: /etc/prometheus
        name: config
      - mountPath: /prometheus
        name: storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zj27z
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.55
    podIPs:
    - ip: 10.42.0.55
    qosClass: Burstable
    startTime: "2025-10-06T08:42:16Z"
- apiVersion: v1
  kind: Pod
  metadata:
    annotations:
      kubectl.kubernetes.io/restartedAt: "2025-10-06T08:26:26+01:00"
    generateName: promtail-
    labels:
      app: promtail
      controller-revision-hash: 6d6c9c55c5
    name: promtail-9vprx
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: DaemonSet
      name: promtail
  spec:
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchFields:
            - key: metadata.name
              operator: In
              values:
              - ubuntu-16gb-hel1-1
    containers:
    - args:
      - -config.file=/etc/promtail/promtail.yaml
      image: grafana/promtail:2.9.3
      imagePullPolicy: IfNotPresent
      name: promtail
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 128Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/promtail
        name: config
      - mountPath: /var/log
        name: varlog
        readOnly: true
      - mountPath: /var/lib/docker/containers
        name: varlibdockercontainers
        readOnly: true
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kts78
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: promtail
    serviceAccountName: promtail
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/disk-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/memory-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/pid-pressure
      operator: Exists
    - effect: NoSchedule
      key: node.kubernetes.io/unschedulable
      operator: Exists
    volumes:
    - configMap:
        defaultMode: 420
        name: promtail-config
      name: config
    - hostPath:
        path: /var/log
        type: ""
      name: varlog
    - hostPath:
        path: /var/lib/docker/containers
        type: ""
      name: varlibdockercontainers
    - name: kube-api-access-kts78
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:26:27Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:26:26Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:26:27Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:26:27Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:26:26Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 50m
        memory: 128Mi
      containerID: containerd://790043c9bf5352098ddb2cc840381baa685ec1f6b5f56d1fd2d2996011ec6d59
      image: docker.io/grafana/promtail:2.9.3
      imageID: docker.io/grafana/promtail@sha256:b338a29de45ef8ffa96f882f3a36306b1e61262b2a560ff523e0e2633cccbbc4
      lastState: {}
      name: promtail
      ready: true
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 128Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:26:27Z"
      user:
        linux:
          gid: 0
          supplementalGroups:
          - 0
      volumeMounts:
      - mountPath: /etc/promtail
        name: config
      - mountPath: /var/log
        name: varlog
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /var/lib/docker/containers
        name: varlibdockercontainers
        readOnly: true
        recursiveReadOnly: Disabled
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-kts78
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.246
    podIPs:
    - ip: 10.42.0.246
    qosClass: Burstable
    startTime: "2025-10-06T07:26:26Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: redis-exporter-7755484f96-
    labels:
      app: redis-exporter
      pod-template-hash: 7755484f96
    name: redis-exporter-7755484f96-l9m9q
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: redis-exporter-7755484f96
  spec:
    containers:
    - env:
      - name: REDIS_ADDR
        value: redis-0.redis.infrastructure.svc.cluster.local:6379
      - name: REDIS_PASSWORD
        value: redis-password-2024
      image: oliver006/redis_exporter:v1.55.0-alpine
      imagePullPolicy: IfNotPresent
      name: redis-exporter
      ports:
      - containerPort: 9121
        name: metrics
        protocol: TCP
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 64Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-9n5c4
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-9n5c4
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:23Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:16Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:23Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:23Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:03:16Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 50m
        memory: 64Mi
      containerID: containerd://61622214f55d21245f260386c3fdbf7408c82c5725653ec09463612b1a3fa9d1
      image: docker.io/oliver006/redis_exporter:v1.55.0-alpine
      imageID: docker.io/oliver006/redis_exporter@sha256:89d612c22490b29a31edde7e4c1f18d13b63c36150bb9ea6d155887fab063723
      lastState: {}
      name: redis-exporter
      ready: true
      resources:
        limits:
          cpu: 200m
          memory: 256Mi
        requests:
          cpu: 50m
          memory: 64Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:03:22Z"
      user:
        linux:
          gid: 0
          supplementalGroups:
          - 0
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-9n5c4
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.232
    podIPs:
    - ip: 10.42.0.232
    qosClass: Burstable
    startTime: "2025-10-06T07:03:16Z"
- apiVersion: v1
  kind: Pod
  metadata:
    generateName: tempo-
    labels:
      app: tempo
      apps.kubernetes.io/pod-index: "0"
      controller-revision-hash: tempo-5b45694578
      statefulset.kubernetes.io/pod-name: tempo-0
    name: tempo-0
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: StatefulSet
      name: tempo
  spec:
    containers:
    - args:
      - -config.file=/etc/tempo/tempo.yaml
      image: grafana/tempo:2.3.1
      imagePullPolicy: IfNotPresent
      name: tempo
      ports:
      - containerPort: 3200
        name: http
        protocol: TCP
      - containerPort: 14268
        name: jaeger-http
        protocol: TCP
      - containerPort: 14250
        name: jaeger-grpc
        protocol: TCP
      - containerPort: 4318
        name: otlp-http
        protocol: TCP
      - containerPort: 4317
        name: otlp-grpc
        protocol: TCP
      resources:
        limits:
          cpu: 500m
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 256Mi
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /etc/tempo
        name: config
      - mountPath: /var/tempo
        name: storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zdgjs
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    hostname: tempo-0
    nodeName: ubuntu-16gb-hel1-1
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: default
    serviceAccountName: default
    subdomain: tempo
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: storage
      persistentVolumeClaim:
        claimName: storage-tempo-0
    - configMap:
        defaultMode: 420
        name: tempo-config
      name: config
    - name: kube-api-access-zdgjs
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:22:23Z"
      status: "True"
      type: PodReadyToStartContainers
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:22:18Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:22:23Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:22:23Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2025-10-06T07:22:18Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - allocatedResources:
        cpu: 100m
        memory: 256Mi
      containerID: containerd://a33926fa97782db6fc00bec8be842ad5eaaae09da7c3c6446c53c0baed1d7bda
      image: docker.io/grafana/tempo:2.3.1
      imageID: docker.io/grafana/tempo@sha256:1c6fb7c74831474f82c9bde218c84b61e5269b676e6505e7dc3c1862dae9b5cc
      lastState: {}
      name: tempo
      ready: true
      resources:
        limits:
          cpu: 500m
          memory: 1Gi
        requests:
          cpu: 100m
          memory: 256Mi
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2025-10-06T07:22:22Z"
      user:
        linux:
          gid: 0
          supplementalGroups:
          - 0
          - 1
          - 2
          - 3
          - 4
          - 6
          - 10
          - 11
          - 20
          - 26
          - 27
      volumeMounts:
      - mountPath: /etc/tempo
        name: config
      - mountPath: /var/tempo
        name: storage
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zdgjs
        readOnly: true
        recursiveReadOnly: Disabled
    hostIP: 46.62.223.198
    hostIPs:
    - ip: 46.62.223.198
    - ip: 2a01:4f9:c013:abef::1
    phase: Running
    podIP: 10.42.0.242
    podIPs:
    - ip: 10.42.0.242
    qosClass: Burstable
    startTime: "2025-10-06T07:22:18Z"
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"name":"grafana","namespace":"monitoring"},"spec":{"ports":[{"name":"http","port":3000,"targetPort":3000}],"selector":{"app":"grafana"},"type":"ClusterIP"}}
    name: grafana
    namespace: monitoring
  spec:
    clusterIP: 10.43.185.123
    clusterIPs:
    - 10.43.185.123
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 3000
      protocol: TCP
      targetPort: 3000
    selector:
      app: grafana
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"kafka-exporter"},"name":"kafka-exporter","namespace":"monitoring"},"spec":{"ports":[{"name":"metrics","port":9308,"targetPort":9308}],"selector":{"app":"kafka-exporter"}}}
    labels:
      app: kafka-exporter
    name: kafka-exporter
    namespace: monitoring
  spec:
    clusterIP: 10.43.232.225
    clusterIPs:
    - 10.43.232.225
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: metrics
      port: 9308
      protocol: TCP
      targetPort: 9308
    selector:
      app: kafka-exporter
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"kube-state-metrics"},"name":"kube-state-metrics","namespace":"monitoring"},"spec":{"ports":[{"name":"http-metrics","port":8080,"targetPort":8080},{"name":"telemetry","port":8081,"targetPort":8081}],"selector":{"app":"kube-state-metrics"}}}
    labels:
      app: kube-state-metrics
    name: kube-state-metrics
    namespace: monitoring
  spec:
    clusterIP: 10.43.240.82
    clusterIPs:
    - 10.43.240.82
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http-metrics
      port: 8080
      protocol: TCP
      targetPort: 8080
    - name: telemetry
      port: 8081
      protocol: TCP
      targetPort: 8081
    selector:
      app: kube-state-metrics
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"name":"loki","namespace":"monitoring"},"spec":{"ports":[{"name":"http","port":3100,"targetPort":3100}],"selector":{"app":"loki"},"type":"ClusterIP"}}
    name: loki
    namespace: monitoring
  spec:
    clusterIP: 10.43.78.141
    clusterIPs:
    - 10.43.78.141
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 3100
      protocol: TCP
      targetPort: 3100
    selector:
      app: loki
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"node-exporter"},"name":"node-exporter","namespace":"monitoring"},"spec":{"ports":[{"name":"metrics","port":9100,"targetPort":9100}],"selector":{"app":"node-exporter"},"type":"ClusterIP"}}
    labels:
      app: node-exporter
    name: node-exporter
    namespace: monitoring
  spec:
    clusterIP: 10.43.70.226
    clusterIPs:
    - 10.43.70.226
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: metrics
      port: 9100
      protocol: TCP
      targetPort: 9100
    selector:
      app: node-exporter
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"postgresql-exporter"},"name":"postgresql-exporter","namespace":"monitoring"},"spec":{"ports":[{"name":"metrics","port":9187,"targetPort":9187}],"selector":{"app":"postgresql-exporter"}}}
    labels:
      app: postgresql-exporter
    name: postgresql-exporter
    namespace: monitoring
  spec:
    clusterIP: 10.43.187.84
    clusterIPs:
    - 10.43.187.84
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: metrics
      port: 9187
      protocol: TCP
      targetPort: 9187
    selector:
      app: postgresql-exporter
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"prometheus"},"name":"prometheus","namespace":"monitoring"},"spec":{"ports":[{"name":"http","port":9090,"targetPort":9090}],"selector":{"app":"prometheus"},"type":"ClusterIP"}}
    labels:
      app: prometheus
    name: prometheus
    namespace: monitoring
  spec:
    clusterIP: 10.43.249.169
    clusterIPs:
    - 10.43.249.169
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 9090
      protocol: TCP
      targetPort: 9090
    selector:
      app: prometheus
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"labels":{"app":"redis-exporter"},"name":"redis-exporter","namespace":"monitoring"},"spec":{"ports":[{"name":"metrics","port":9121,"targetPort":9121}],"selector":{"app":"redis-exporter"}}}
    labels:
      app: redis-exporter
    name: redis-exporter
    namespace: monitoring
  spec:
    clusterIP: 10.43.148.87
    clusterIPs:
    - 10.43.148.87
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: metrics
      port: 9121
      protocol: TCP
      targetPort: 9121
    selector:
      app: redis-exporter
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: v1
  kind: Service
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"Service","metadata":{"annotations":{},"name":"tempo","namespace":"monitoring"},"spec":{"ports":[{"name":"http","port":3200,"targetPort":3200},{"name":"jaeger-http","port":14268,"targetPort":14268},{"name":"jaeger-grpc","port":14250,"targetPort":14250},{"name":"otlp-http","port":4318,"targetPort":4318},{"name":"otlp-grpc","port":4317,"targetPort":4317}],"selector":{"app":"tempo"},"type":"ClusterIP"}}
    name: tempo
    namespace: monitoring
  spec:
    clusterIP: 10.43.40.83
    clusterIPs:
    - 10.43.40.83
    internalTrafficPolicy: Cluster
    ipFamilies:
    - IPv4
    ipFamilyPolicy: SingleStack
    ports:
    - name: http
      port: 3200
      protocol: TCP
      targetPort: 3200
    - name: jaeger-http
      port: 14268
      protocol: TCP
      targetPort: 14268
    - name: jaeger-grpc
      port: 14250
      protocol: TCP
      targetPort: 14250
    - name: otlp-http
      port: 4318
      protocol: TCP
      targetPort: 4318
    - name: otlp-grpc
      port: 4317
      protocol: TCP
      targetPort: 4317
    selector:
      app: tempo
    sessionAffinity: None
    type: ClusterIP
  status:
    loadBalancer: {}
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"DaemonSet","metadata":{"annotations":{},"labels":{"app":"node-exporter"},"name":"node-exporter","namespace":"monitoring"},"spec":{"selector":{"matchLabels":{"app":"node-exporter"}},"template":{"metadata":{"labels":{"app":"node-exporter"}},"spec":{"containers":[{"args":["--path.procfs=/host/proc","--path.sysfs=/host/sys","--path.rootfs=/host/root","--collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)","--collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$"],"image":"prom/node-exporter:v1.7.0","name":"node-exporter","ports":[{"containerPort":9100,"hostPort":9100,"name":"metrics"}],"resources":{"limits":{"cpu":"200m","memory":"128Mi"},"requests":{"cpu":"50m","memory":"64Mi"}},"volumeMounts":[{"mountPath":"/host/proc","name":"proc","readOnly":true},{"mountPath":"/host/sys","name":"sys","readOnly":true},{"mountPath":"/host/root","mountPropagation":"HostToContainer","name":"root","readOnly":true}]}],"hostNetwork":true,"hostPID":true,"volumes":[{"hostPath":{"path":"/proc"},"name":"proc"},{"hostPath":{"path":"/sys"},"name":"sys"},{"hostPath":{"path":"/"},"name":"root"}]}}}}
    labels:
      app: node-exporter
    name: node-exporter
    namespace: monitoring
  spec:
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: node-exporter
    template:
      metadata:
        labels:
          app: node-exporter
      spec:
        containers:
        - args:
          - --path.procfs=/host/proc
          - --path.sysfs=/host/sys
          - --path.rootfs=/host/root
          - --collector.filesystem.mount-points-exclude=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/.+)($|/)
          - --collector.filesystem.fs-types-exclude=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
          image: prom/node-exporter:v1.7.0
          imagePullPolicy: IfNotPresent
          name: node-exporter
          ports:
          - containerPort: 9100
            hostPort: 9100
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 200m
              memory: 128Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /host/proc
            name: proc
            readOnly: true
          - mountPath: /host/sys
            name: sys
            readOnly: true
          - mountPath: /host/root
            mountPropagation: HostToContainer
            name: root
            readOnly: true
        dnsPolicy: ClusterFirst
        hostNetwork: true
        hostPID: true
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - hostPath:
            path: /proc
            type: ""
          name: proc
        - hostPath:
            path: /sys
            type: ""
          name: sys
        - hostPath:
            path: /
            type: ""
          name: root
    updateStrategy:
      rollingUpdate:
        maxSurge: 0
        maxUnavailable: 1
      type: RollingUpdate
  status:
    currentNumberScheduled: 1
    desiredNumberScheduled: 1
    numberAvailable: 1
    numberMisscheduled: 0
    numberReady: 1
    observedGeneration: 1
    updatedNumberScheduled: 1
- apiVersion: apps/v1
  kind: DaemonSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"DaemonSet","metadata":{"annotations":{},"name":"promtail","namespace":"monitoring"},"spec":{"selector":{"matchLabels":{"app":"promtail"}},"template":{"metadata":{"labels":{"app":"promtail"}},"spec":{"containers":[{"args":["-config.file=/etc/promtail/promtail.yaml"],"image":"grafana/promtail:2.9.3","name":"promtail","resources":{"limits":{"cpu":"200m","memory":"256Mi"},"requests":{"cpu":"50m","memory":"128Mi"}},"volumeMounts":[{"mountPath":"/etc/promtail","name":"config"},{"mountPath":"/var/log","name":"varlog","readOnly":true},{"mountPath":"/var/lib/docker/containers","name":"varlibdockercontainers","readOnly":true}]}],"serviceAccountName":"promtail","volumes":[{"configMap":{"name":"promtail-config"},"name":"config"},{"hostPath":{"path":"/var/log"},"name":"varlog"},{"hostPath":{"path":"/var/lib/docker/containers"},"name":"varlibdockercontainers"}]}}}}
    name: promtail
    namespace: monitoring
  spec:
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: promtail
    template:
      metadata:
        annotations:
          kubectl.kubernetes.io/restartedAt: "2025-10-06T08:26:26+01:00"
        labels:
          app: promtail
      spec:
        containers:
        - args:
          - -config.file=/etc/promtail/promtail.yaml
          image: grafana/promtail:2.9.3
          imagePullPolicy: IfNotPresent
          name: promtail
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 128Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/promtail
            name: config
          - mountPath: /var/log
            name: varlog
            readOnly: true
          - mountPath: /var/lib/docker/containers
            name: varlibdockercontainers
            readOnly: true
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: promtail
        serviceAccountName: promtail
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: promtail-config
          name: config
        - hostPath:
            path: /var/log
            type: ""
          name: varlog
        - hostPath:
            path: /var/lib/docker/containers
            type: ""
          name: varlibdockercontainers
    updateStrategy:
      rollingUpdate:
        maxSurge: 0
        maxUnavailable: 1
      type: RollingUpdate
  status:
    currentNumberScheduled: 1
    desiredNumberScheduled: 1
    numberAvailable: 1
    numberMisscheduled: 0
    numberReady: 1
    observedGeneration: 2
    updatedNumberScheduled: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"name":"deployment-tracker","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"deployment-tracker"}},"template":{"metadata":{"labels":{"app":"deployment-tracker"}},"spec":{"containers":[{"command":["/bin/bash","-c","pip install --no-cache-dir kubernetes==28.1.0 requests==2.31.0 \u0026\u0026 \\\npython3 -u /app/deployment-tracker.py\n"],"env":[{"name":"GRAFANA_URL","value":"http://grafana.monitoring.svc.cluster.local:3000"},{"name":"GRAFANA_USER","value":"admin"},{"name":"GRAFANA_PASSWORD","value":"GRAFANA_ADMIN_PASSWORD_PLACEHOLDER"},{"name":"GITHUB_TOKEN","value":""}],"image":"python:3.11-slim","name":"tracker","resources":{"limits":{"cpu":"200m","memory":"256Mi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"mountPath":"/app","name":"script"}]}],"serviceAccountName":"deployment-tracker","volumes":[{"configMap":{"defaultMode":493,"name":"deployment-tracker-script"},"name":"script"}]}}}}
    name: deployment-tracker
    namespace: monitoring
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: deployment-tracker
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        labels:
          app: deployment-tracker
      spec:
        containers:
        - command:
          - /bin/bash
          - -c
          - |
            pip install --no-cache-dir kubernetes==28.1.0 requests==2.31.0 && \
            python3 -u /app/deployment-tracker.py
          env:
          - name: GRAFANA_URL
            value: http://grafana.monitoring.svc.cluster.local:3000
          - name: GRAFANA_USER
            value: admin
          - name: GRAFANA_PASSWORD
            value: GRAFANA_ADMIN_PASSWORD_PLACEHOLDER
          - name: GITHUB_TOKEN
          image: python:3.11-slim
          imagePullPolicy: IfNotPresent
          name: tracker
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /app
            name: script
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: deployment-tracker
        serviceAccountName: deployment-tracker
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 493
            name: deployment-tracker-script
          name: script
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-10-06T07:45:56Z"
      lastUpdateTime: "2025-10-06T07:45:56Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-10-06T07:45:48Z"
      lastUpdateTime: "2025-10-06T07:45:56Z"
      message: ReplicaSet "deployment-tracker-56bf45cb6b" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"kafka-exporter"},"name":"kafka-exporter","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"kafka-exporter"}},"template":{"metadata":{"labels":{"app":"kafka-exporter"}},"spec":{"containers":[{"args":["--kafka.server=kafka-cluster-kafka-bootstrap.infrastructure.svc.cluster.local:9092","--web.listen-address=:9308","--web.telemetry-path=/metrics"],"image":"danielqsj/kafka-exporter:v1.7.0","name":"kafka-exporter","ports":[{"containerPort":9308,"name":"metrics"}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"100m","memory":"128Mi"}}}]}}}}
    labels:
      app: kafka-exporter
    name: kafka-exporter
    namespace: monitoring
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: kafka-exporter
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        labels:
          app: kafka-exporter
      spec:
        containers:
        - args:
          - --kafka.server=kafka-cluster-kafka-bootstrap.infrastructure.svc.cluster.local:9092
          - --web.listen-address=:9308
          - --web.telemetry-path=/metrics
          image: danielqsj/kafka-exporter:v1.7.0
          imagePullPolicy: IfNotPresent
          name: kafka-exporter
          ports:
          - containerPort: 9308
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 500m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 128Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-10-06T07:03:23Z"
      lastUpdateTime: "2025-10-06T07:03:23Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-10-06T07:03:17Z"
      lastUpdateTime: "2025-10-06T07:03:23Z"
      message: ReplicaSet "kafka-exporter-6c55c7d876" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"kube-state-metrics"},"name":"kube-state-metrics","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"kube-state-metrics"}},"template":{"metadata":{"labels":{"app":"kube-state-metrics"}},"spec":{"containers":[{"image":"registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.1","livenessProbe":{"httpGet":{"path":"/healthz","port":8080},"initialDelaySeconds":5,"timeoutSeconds":5},"name":"kube-state-metrics","ports":[{"containerPort":8080,"name":"http-metrics"},{"containerPort":8081,"name":"telemetry"}],"readinessProbe":{"httpGet":{"path":"/","port":8081},"initialDelaySeconds":5,"timeoutSeconds":5},"resources":{"limits":{"cpu":"200m","memory":"256Mi"},"requests":{"cpu":"50m","memory":"64Mi"}}}],"serviceAccountName":"kube-state-metrics"}}}}
    labels:
      app: kube-state-metrics
    name: kube-state-metrics
    namespace: monitoring
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: kube-state-metrics
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        labels:
          app: kube-state-metrics
      spec:
        containers:
        - image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.1
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: http-metrics
            protocol: TCP
          - containerPort: 8081
            name: telemetry
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8081
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: kube-state-metrics
        serviceAccountName: kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-10-06T08:38:01Z"
      lastUpdateTime: "2025-10-06T08:38:01Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-10-06T08:37:47Z"
      lastUpdateTime: "2025-10-06T08:38:01Z"
      message: ReplicaSet "kube-state-metrics-7b97ff5559" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"postgresql-exporter"},"name":"postgresql-exporter","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"postgresql-exporter"}},"template":{"metadata":{"labels":{"app":"postgresql-exporter"}},"spec":{"containers":[{"env":[{"name":"DATA_SOURCE_NAME","value":"postgresql://postgres:postgres-admin-2024@postgresql-0.postgresql.infrastructure.svc.cluster.local:5432/postgres?sslmode=disable"}],"image":"prometheuscommunity/postgres-exporter:v0.15.0","name":"postgres-exporter","ports":[{"containerPort":9187,"name":"metrics"}],"resources":{"limits":{"cpu":"200m","memory":"256Mi"},"requests":{"cpu":"50m","memory":"64Mi"}}}]}}}}
    labels:
      app: postgresql-exporter
    name: postgresql-exporter
    namespace: monitoring
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: postgresql-exporter
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        labels:
          app: postgresql-exporter
      spec:
        containers:
        - env:
          - name: DATA_SOURCE_NAME
            value: postgresql://postgres:postgres-admin-2024@postgresql-0.postgresql.infrastructure.svc.cluster.local:5432/postgres?sslmode=disable
          image: prometheuscommunity/postgres-exporter:v0.15.0
          imagePullPolicy: IfNotPresent
          name: postgres-exporter
          ports:
          - containerPort: 9187
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-10-06T07:03:22Z"
      lastUpdateTime: "2025-10-06T07:03:22Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-10-06T07:03:16Z"
      lastUpdateTime: "2025-10-06T07:03:22Z"
      message: ReplicaSet "postgresql-exporter-67ccd987b4" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: Deployment
  metadata:
    annotations:
      deployment.kubernetes.io/revision: "1"
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"Deployment","metadata":{"annotations":{},"labels":{"app":"redis-exporter"},"name":"redis-exporter","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"redis-exporter"}},"template":{"metadata":{"labels":{"app":"redis-exporter"}},"spec":{"containers":[{"env":[{"name":"REDIS_ADDR","value":"redis-0.redis.infrastructure.svc.cluster.local:6379"},{"name":"REDIS_PASSWORD","value":"redis-password-2024"}],"image":"oliver006/redis_exporter:v1.55.0-alpine","name":"redis-exporter","ports":[{"containerPort":9121,"name":"metrics"}],"resources":{"limits":{"cpu":"200m","memory":"256Mi"},"requests":{"cpu":"50m","memory":"64Mi"}}}]}}}}
    labels:
      app: redis-exporter
    name: redis-exporter
    namespace: monitoring
  spec:
    progressDeadlineSeconds: 600
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: redis-exporter
    strategy:
      rollingUpdate:
        maxSurge: 25%
        maxUnavailable: 25%
      type: RollingUpdate
    template:
      metadata:
        labels:
          app: redis-exporter
      spec:
        containers:
        - env:
          - name: REDIS_ADDR
            value: redis-0.redis.infrastructure.svc.cluster.local:6379
          - name: REDIS_PASSWORD
            value: redis-password-2024
          image: oliver006/redis_exporter:v1.55.0-alpine
          imagePullPolicy: IfNotPresent
          name: redis-exporter
          ports:
          - containerPort: 9121
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    conditions:
    - lastTransitionTime: "2025-10-06T07:03:23Z"
      lastUpdateTime: "2025-10-06T07:03:23Z"
      message: Deployment has minimum availability.
      reason: MinimumReplicasAvailable
      status: "True"
      type: Available
    - lastTransitionTime: "2025-10-06T07:03:16Z"
      lastUpdateTime: "2025-10-06T07:03:23Z"
      message: ReplicaSet "redis-exporter-7755484f96" has successfully progressed.
      reason: NewReplicaSetAvailable
      status: "True"
      type: Progressing
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    labels:
      app: deployment-tracker
      pod-template-hash: 56bf45cb6b
    name: deployment-tracker-56bf45cb6b
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: deployment-tracker
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: deployment-tracker
        pod-template-hash: 56bf45cb6b
    template:
      metadata:
        labels:
          app: deployment-tracker
          pod-template-hash: 56bf45cb6b
      spec:
        containers:
        - command:
          - /bin/bash
          - -c
          - |
            pip install --no-cache-dir kubernetes==28.1.0 requests==2.31.0 && \
            python3 -u /app/deployment-tracker.py
          env:
          - name: GRAFANA_URL
            value: http://grafana.monitoring.svc.cluster.local:3000
          - name: GRAFANA_USER
            value: admin
          - name: GRAFANA_PASSWORD
            value: GRAFANA_ADMIN_PASSWORD_PLACEHOLDER
          - name: GITHUB_TOKEN
          image: python:3.11-slim
          imagePullPolicy: IfNotPresent
          name: tracker
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 100m
              memory: 128Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /app
            name: script
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: deployment-tracker
        serviceAccountName: deployment-tracker
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 493
            name: deployment-tracker-script
          name: script
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    labels:
      app: kafka-exporter
      pod-template-hash: 6c55c7d876
    name: kafka-exporter-6c55c7d876
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: kafka-exporter
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kafka-exporter
        pod-template-hash: 6c55c7d876
    template:
      metadata:
        labels:
          app: kafka-exporter
          pod-template-hash: 6c55c7d876
      spec:
        containers:
        - args:
          - --kafka.server=kafka-cluster-kafka-bootstrap.infrastructure.svc.cluster.local:9092
          - --web.listen-address=:9308
          - --web.telemetry-path=/metrics
          image: danielqsj/kafka-exporter:v1.7.0
          imagePullPolicy: IfNotPresent
          name: kafka-exporter
          ports:
          - containerPort: 9308
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 500m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 128Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    labels:
      app: kube-state-metrics
      pod-template-hash: 7b97ff5559
    name: kube-state-metrics-7b97ff5559
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: kube-state-metrics
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: kube-state-metrics
        pod-template-hash: 7b97ff5559
    template:
      metadata:
        labels:
          app: kube-state-metrics
          pod-template-hash: 7b97ff5559
      spec:
        containers:
        - image: registry.k8s.io/kube-state-metrics/kube-state-metrics:v2.10.1
          imagePullPolicy: IfNotPresent
          livenessProbe:
            failureThreshold: 3
            httpGet:
              path: /healthz
              port: 8080
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          name: kube-state-metrics
          ports:
          - containerPort: 8080
            name: http-metrics
            protocol: TCP
          - containerPort: 8081
            name: telemetry
            protocol: TCP
          readinessProbe:
            failureThreshold: 3
            httpGet:
              path: /
              port: 8081
              scheme: HTTP
            initialDelaySeconds: 5
            periodSeconds: 10
            successThreshold: 1
            timeoutSeconds: 5
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: kube-state-metrics
        serviceAccountName: kube-state-metrics
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    labels:
      app: postgresql-exporter
      pod-template-hash: 67ccd987b4
    name: postgresql-exporter-67ccd987b4
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: postgresql-exporter
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: postgresql-exporter
        pod-template-hash: 67ccd987b4
    template:
      metadata:
        labels:
          app: postgresql-exporter
          pod-template-hash: 67ccd987b4
      spec:
        containers:
        - env:
          - name: DATA_SOURCE_NAME
            value: postgresql://postgres:postgres-admin-2024@postgresql-0.postgresql.infrastructure.svc.cluster.local:5432/postgres?sslmode=disable
          image: prometheuscommunity/postgres-exporter:v0.15.0
          imagePullPolicy: IfNotPresent
          name: postgres-exporter
          ports:
          - containerPort: 9187
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: ReplicaSet
  metadata:
    annotations:
      deployment.kubernetes.io/desired-replicas: "1"
      deployment.kubernetes.io/max-replicas: "2"
      deployment.kubernetes.io/revision: "1"
    labels:
      app: redis-exporter
      pod-template-hash: 7755484f96
    name: redis-exporter-7755484f96
    namespace: monitoring
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: Deployment
      name: redis-exporter
  spec:
    replicas: 1
    selector:
      matchLabels:
        app: redis-exporter
        pod-template-hash: 7755484f96
    template:
      metadata:
        labels:
          app: redis-exporter
          pod-template-hash: 7755484f96
      spec:
        containers:
        - env:
          - name: REDIS_ADDR
            value: redis-0.redis.infrastructure.svc.cluster.local:6379
          - name: REDIS_PASSWORD
            value: redis-password-2024
          image: oliver006/redis_exporter:v1.55.0-alpine
          imagePullPolicy: IfNotPresent
          name: redis-exporter
          ports:
          - containerPort: 9121
            name: metrics
            protocol: TCP
          resources:
            limits:
              cpu: 200m
              memory: 256Mi
            requests:
              cpu: 50m
              memory: 64Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
  status:
    availableReplicas: 1
    fullyLabeledReplicas: 1
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{},"name":"grafana","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"grafana"}},"serviceName":"grafana","template":{"metadata":{"labels":{"app":"grafana"}},"spec":{"containers":[{"env":[{"name":"GF_SECURITY_ADMIN_USER","value":"admin"},{"name":"GF_SECURITY_ADMIN_PASSWORD","value":"GRAFANA_ADMIN_PASSWORD_PLACEHOLDER"},{"name":"GF_INSTALL_PLUGINS","value":""},{"name":"GF_PATHS_DATA","value":"/var/lib/grafana"},{"name":"GF_PATHS_LOGS","value":"/var/lib/grafana/logs"},{"name":"GF_PATHS_PLUGINS","value":"/var/lib/grafana/plugins"}],"image":"grafana/grafana:10.2.3","name":"grafana","ports":[{"containerPort":3000,"name":"http"}],"resources":{"limits":{"cpu":"500m","memory":"512Mi"},"requests":{"cpu":"100m","memory":"256Mi"}},"volumeMounts":[{"mountPath":"/var/lib/grafana","name":"grafana-storage"},{"mountPath":"/etc/grafana/provisioning/datasources","name":"grafana-datasources"},{"mountPath":"/etc/grafana/provisioning/dashboards","name":"grafana-dashboards-provider"},{"mountPath":"/etc/grafana/dashboards/red","name":"grafana-dashboards"},{"mountPath":"/etc/grafana/dashboards/k8s","name":"grafana-dashboard-kubernetes"}]}],"volumes":[{"name":"grafana-storage","persistentVolumeClaim":{"claimName":"grafana-storage"}},{"configMap":{"name":"grafana-datasources"},"name":"grafana-datasources"},{"configMap":{"name":"grafana-dashboards-provider"},"name":"grafana-dashboards-provider"},{"configMap":{"name":"grafana-dashboards"},"name":"grafana-dashboards"},{"configMap":{"name":"grafana-dashboard-kubernetes"},"name":"grafana-dashboard-kubernetes"}]}}}}
    name: grafana
    namespace: monitoring
  spec:
    persistentVolumeClaimRetentionPolicy:
      whenDeleted: Retain
      whenScaled: Retain
    podManagementPolicy: OrderedReady
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: grafana
    serviceName: grafana
    template:
      metadata:
        labels:
          app: grafana
      spec:
        containers:
        - env:
          - name: GF_SECURITY_ADMIN_USER
            value: admin
          - name: GF_SECURITY_ADMIN_PASSWORD
            value: GRAFANA_ADMIN_PASSWORD_PLACEHOLDER
          - name: GF_INSTALL_PLUGINS
          - name: GF_PATHS_DATA
            value: /var/lib/grafana
          - name: GF_PATHS_LOGS
            value: /var/lib/grafana/logs
          - name: GF_PATHS_PLUGINS
            value: /var/lib/grafana/plugins
          - name: GF_AUTH_PROXY_ENABLED
            value: "false"
          - name: GF_AUTH_PROXY_HEADER_NAME
            value: X-Auth-Request-Email
          - name: GF_AUTH_PROXY_HEADER_PROPERTY
            value: email
          - name: GF_AUTH_PROXY_AUTO_SIGN_UP
            value: "true"
          - name: GF_USERS_AUTO_ASSIGN_ORG_ROLE
            value: Admin
          - name: GF_AUTH_DISABLE_LOGIN_FORM
            value: "false"
          - name: GF_AUTH_GOOGLE_ENABLED
            value: "true"
          - name: GF_AUTH_GOOGLE_CLIENT_ID
            value: GOOGLE_CLIENT_ID_PLACEHOLDER
          - name: GF_AUTH_GOOGLE_CLIENT_SECRET
            value: GOOGLE_CLIENT_SECRET_PLACEHOLDER
          - name: GF_AUTH_GOOGLE_SCOPES
            value: openid email profile
          - name: GF_AUTH_GOOGLE_AUTH_URL
            value: https://accounts.google.com/o/oauth2/v2/auth
          - name: GF_AUTH_GOOGLE_TOKEN_URL
            value: https://oauth2.googleapis.com/token
          - name: GF_AUTH_GOOGLE_API_URL
            value: https://openidconnect.googleapis.com/v1/userinfo
          - name: GF_AUTH_GOOGLE_ALLOWED_EMAILS
            value: dcversus@gmail.com
          - name: GF_AUTH_GOOGLE_ALLOW_SIGN_UP
            value: "true"
          - name: GF_SERVER_ROOT_URL
            value: https://grafana.theedgestory.org
          - name: GF_SERVER_DOMAIN
            value: grafana.theedgestory.org
          image: grafana/grafana:10.2.3
          imagePullPolicy: IfNotPresent
          name: grafana
          ports:
          - containerPort: 3000
            name: http
            protocol: TCP
          resources:
            limits:
              cpu: 500m
              memory: 512Mi
            requests:
              cpu: 100m
              memory: 256Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /var/lib/grafana
            name: grafana-storage
          - mountPath: /etc/grafana/provisioning/datasources
            name: grafana-datasources
          - mountPath: /etc/grafana/provisioning/dashboards
            name: grafana-dashboards-provider
          - mountPath: /etc/grafana/dashboards/red
            name: grafana-dashboards
          - mountPath: /etc/grafana/dashboards/k8s
            name: grafana-dashboard-kubernetes
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - name: grafana-storage
          persistentVolumeClaim:
            claimName: grafana-storage
        - configMap:
            defaultMode: 420
            name: grafana-datasources
          name: grafana-datasources
        - configMap:
            defaultMode: 420
            name: grafana-dashboards-provider
          name: grafana-dashboards-provider
        - configMap:
            defaultMode: 420
            name: grafana-dashboards
          name: grafana-dashboards
        - configMap:
            defaultMode: 420
            name: grafana-dashboard-kubernetes
          name: grafana-dashboard-kubernetes
    updateStrategy:
      rollingUpdate:
        partition: 0
      type: RollingUpdate
  status:
    availableReplicas: 1
    collisionCount: 0
    currentReplicas: 1
    currentRevision: grafana-bf466f7dd
    observedGeneration: 5
    readyReplicas: 1
    replicas: 1
    updateRevision: grafana-bf466f7dd
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{},"name":"loki","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"loki"}},"serviceName":"loki","template":{"metadata":{"labels":{"app":"loki"}},"spec":{"containers":[{"args":["-config.file=/etc/loki/loki.yaml"],"image":"grafana/loki:2.9.3","name":"loki","ports":[{"containerPort":3100,"name":"http"}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"100m","memory":"256Mi"}},"volumeMounts":[{"mountPath":"/etc/loki","name":"config"},{"mountPath":"/loki","name":"storage"}]}],"volumes":[{"configMap":{"name":"loki-config"},"name":"config"}]}},"volumeClaimTemplates":[{"metadata":{"name":"storage"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"10Gi"}}}}]}}
    name: loki
    namespace: monitoring
  spec:
    persistentVolumeClaimRetentionPolicy:
      whenDeleted: Retain
      whenScaled: Retain
    podManagementPolicy: OrderedReady
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: loki
    serviceName: loki
    template:
      metadata:
        labels:
          app: loki
      spec:
        containers:
        - args:
          - -config.file=/etc/loki/loki.yaml
          image: grafana/loki:2.9.3
          imagePullPolicy: IfNotPresent
          name: loki
          ports:
          - containerPort: 3100
            name: http
            protocol: TCP
          resources:
            limits:
              cpu: 500m
              memory: 1Gi
            requests:
              cpu: 100m
              memory: 256Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/loki
            name: config
          - mountPath: /loki
            name: storage
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: loki-config
          name: config
    updateStrategy:
      rollingUpdate:
        partition: 0
      type: RollingUpdate
    volumeClaimTemplates:
    - apiVersion: v1
      kind: PersistentVolumeClaim
      metadata:
        name: storage
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 10Gi
        volumeMode: Filesystem
      status:
        phase: Pending
  status:
    availableReplicas: 1
    collisionCount: 0
    currentReplicas: 1
    currentRevision: loki-85d558c5dc
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updateRevision: loki-85d558c5dc
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{},"labels":{"app":"prometheus"},"name":"prometheus","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"prometheus"}},"serviceName":"prometheus","template":{"metadata":{"labels":{"app":"prometheus"}},"spec":{"containers":[{"args":["--config.file=/etc/prometheus/prometheus.yml","--storage.tsdb.path=/prometheus","--storage.tsdb.retention.time=90d","--web.enable-lifecycle"],"image":"prom/prometheus:v2.48.0","name":"prometheus","ports":[{"containerPort":9090,"name":"http"}],"resources":{"limits":{"cpu":"1000m","memory":"2Gi"},"requests":{"cpu":"250m","memory":"512Mi"}},"volumeMounts":[{"mountPath":"/etc/prometheus","name":"config"},{"mountPath":"/prometheus","name":"storage"}]}],"serviceAccountName":"prometheus","volumes":[{"configMap":{"name":"prometheus-config"},"name":"config"},{"name":"storage","persistentVolumeClaim":{"claimName":"prometheus-storage"}}]}}}}
    labels:
      app: prometheus
    name: prometheus
    namespace: monitoring
  spec:
    persistentVolumeClaimRetentionPolicy:
      whenDeleted: Retain
      whenScaled: Retain
    podManagementPolicy: OrderedReady
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: prometheus
    serviceName: prometheus
    template:
      metadata:
        labels:
          app: prometheus
      spec:
        containers:
        - args:
          - --config.file=/etc/prometheus/prometheus.yml
          - --storage.tsdb.path=/prometheus
          - --storage.tsdb.retention.time=90d
          - --web.enable-lifecycle
          image: prom/prometheus:v2.48.0
          imagePullPolicy: IfNotPresent
          name: prometheus
          ports:
          - containerPort: 9090
            name: http
            protocol: TCP
          resources:
            limits:
              cpu: "1"
              memory: 2Gi
            requests:
              cpu: 250m
              memory: 512Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/prometheus
            name: config
          - mountPath: /prometheus
            name: storage
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        serviceAccount: prometheus
        serviceAccountName: prometheus
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: prometheus-config
          name: config
        - name: storage
          persistentVolumeClaim:
            claimName: prometheus-storage
    updateStrategy:
      rollingUpdate:
        partition: 0
      type: RollingUpdate
  status:
    availableReplicas: 1
    collisionCount: 0
    currentReplicas: 1
    currentRevision: prometheus-84dcc9d9d9
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updateRevision: prometheus-84dcc9d9d9
    updatedReplicas: 1
- apiVersion: apps/v1
  kind: StatefulSet
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"apps/v1","kind":"StatefulSet","metadata":{"annotations":{},"name":"tempo","namespace":"monitoring"},"spec":{"replicas":1,"selector":{"matchLabels":{"app":"tempo"}},"serviceName":"tempo","template":{"metadata":{"labels":{"app":"tempo"}},"spec":{"containers":[{"args":["-config.file=/etc/tempo/tempo.yaml"],"image":"grafana/tempo:2.3.1","name":"tempo","ports":[{"containerPort":3200,"name":"http"},{"containerPort":14268,"name":"jaeger-http"},{"containerPort":14250,"name":"jaeger-grpc"},{"containerPort":4318,"name":"otlp-http"},{"containerPort":4317,"name":"otlp-grpc"}],"resources":{"limits":{"cpu":"500m","memory":"1Gi"},"requests":{"cpu":"100m","memory":"256Mi"}},"volumeMounts":[{"mountPath":"/etc/tempo","name":"config"},{"mountPath":"/var/tempo","name":"storage"}]}],"volumes":[{"configMap":{"name":"tempo-config"},"name":"config"}]}},"volumeClaimTemplates":[{"metadata":{"name":"storage"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"10Gi"}}}}]}}
    name: tempo
    namespace: monitoring
  spec:
    persistentVolumeClaimRetentionPolicy:
      whenDeleted: Retain
      whenScaled: Retain
    podManagementPolicy: OrderedReady
    replicas: 1
    revisionHistoryLimit: 10
    selector:
      matchLabels:
        app: tempo
    serviceName: tempo
    template:
      metadata:
        labels:
          app: tempo
      spec:
        containers:
        - args:
          - -config.file=/etc/tempo/tempo.yaml
          image: grafana/tempo:2.3.1
          imagePullPolicy: IfNotPresent
          name: tempo
          ports:
          - containerPort: 3200
            name: http
            protocol: TCP
          - containerPort: 14268
            name: jaeger-http
            protocol: TCP
          - containerPort: 14250
            name: jaeger-grpc
            protocol: TCP
          - containerPort: 4318
            name: otlp-http
            protocol: TCP
          - containerPort: 4317
            name: otlp-grpc
            protocol: TCP
          resources:
            limits:
              cpu: 500m
              memory: 1Gi
            requests:
              cpu: 100m
              memory: 256Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
          - mountPath: /etc/tempo
            name: config
          - mountPath: /var/tempo
            name: storage
        dnsPolicy: ClusterFirst
        restartPolicy: Always
        schedulerName: default-scheduler
        securityContext: {}
        terminationGracePeriodSeconds: 30
        volumes:
        - configMap:
            defaultMode: 420
            name: tempo-config
          name: config
    updateStrategy:
      rollingUpdate:
        partition: 0
      type: RollingUpdate
    volumeClaimTemplates:
    - apiVersion: v1
      kind: PersistentVolumeClaim
      metadata:
        name: storage
      spec:
        accessModes:
        - ReadWriteOnce
        resources:
          requests:
            storage: 10Gi
        volumeMode: Filesystem
      status:
        phase: Pending
  status:
    availableReplicas: 1
    collisionCount: 0
    currentReplicas: 1
    currentRevision: tempo-5b45694578
    observedGeneration: 1
    readyReplicas: 1
    replicas: 1
    updateRevision: tempo-5b45694578
    updatedReplicas: 1
- apiVersion: v1
  data:
    deployment-tracker.py: "#!/usr/bin/env python3\n\"\"\"\nDeployment Tracker for
      Grafana Annotations\nWatches Kubernetes deployments and posts annotations to
      Grafana\n\"\"\"\n\nimport os\nimport time\nimport requests\nfrom datetime import
      datetime\nfrom kubernetes import client, config, watch\n\n# Configuration\nGRAFANA_URL
      = os.getenv('GRAFANA_URL', 'http://grafana.monitoring.svc.cluster.local:3000')\nGRAFANA_USER
      = os.getenv('GRAFANA_USER', 'admin')\nGRAFANA_PASSWORD = os.getenv('GRAFANA_PASSWORD',
      'GRAFANA_ADMIN_PASSWORD_PLACEHOLDER')\nGITHUB_TOKEN = os.getenv('GITHUB_TOKEN', '')  # Optional for higher
      rate limits\nGITHUB_REPO = 'uz0/core-pipeline'\nNAMESPACES = ['core-pipeline-production',
      'core-pipeline-test']\n\n# Grafana dashboard UID where annotations should appear\nDASHBOARD_UID
      = 'core-pipeline-red'\n\ndef get_latest_commit_info():\n    \"\"\"Fetch latest
      commit info from GitHub API\"\"\"\n    url = f'https://api.github.com/repos/{GITHUB_REPO}/commits/main'\n
      \   headers = {}\n    if GITHUB_TOKEN:\n        headers['Authorization'] = f'token
      {GITHUB_TOKEN}'\n\n    try:\n        response = requests.get(url, headers=headers,
      timeout=10)\n        response.raise_for_status()\n        commit_data = response.json()\n\n
      \       return {\n            'sha': commit_data['sha'][:7],\n            'full_sha':
      commit_data['sha'],\n            'message': commit_data['commit']['message'].split('\\n')[0],\n
      \           'author': commit_data['commit']['author']['name'],\n            'url':
      commit_data['html_url'],\n            'date': commit_data['commit']['author']['date']\n
      \       }\n    except Exception as e:\n        print(f\"Error fetching commit
      info: {e}\")\n        return None\n\ndef post_grafana_annotation(text, tags,
      timestamp=None):\n    \"\"\"Post annotation to Grafana\"\"\"\n    if timestamp
      is None:\n        timestamp = int(time.time() * 1000)\n\n    annotation = {\n
      \       'dashboardUID': DASHBOARD_UID,\n        'time': timestamp,\n        'tags':
      tags,\n        'text': text\n    }\n\n    url = f'{GRAFANA_URL}/api/annotations'\n\n
      \   try:\n        response = requests.post(\n            url,\n            json=annotation,\n
      \           auth=(GRAFANA_USER, GRAFANA_PASSWORD),\n            timeout=10\n
      \       )\n        response.raise_for_status()\n        print(f\" Posted annotation:
      {text}\")\n        return True\n    except Exception as e:\n        print(f\"
      Error posting annotation: {e}\")\n        return False\n\ndef watch_deployments():\n
      \   \"\"\"Watch for new pod deployments\"\"\"\n    # Load Kubernetes config\n
      \   try:\n        config.load_incluster_config()\n    except:\n        config.load_kube_config()\n\n
      \   v1 = client.CoreV1Api()\n    w = watch.Watch()\n\n    print(f\"\U0001F440
      Watching deployments in namespaces: {NAMESPACES}\")\n\n    # Track seen pods
      to avoid duplicates\n    seen_pods = set()\n\n    for namespace in NAMESPACES:\n
      \       try:\n            # Get existing pods first\n            pods = v1.list_namespaced_pod(namespace,
      label_selector='app=kuberoapp')\n            for pod in pods.items:\n                seen_pods.add(pod.metadata.uid)\n
      \       except Exception as e:\n            print(f\"Error listing pods in {namespace}:
      {e}\")\n\n    # Watch for new pods\n    while True:\n        try:\n            for
      namespace in NAMESPACES:\n                for event in w.stream(\n                    v1.list_namespaced_pod,\n
      \                   namespace=namespace,\n                    label_selector='app=kuberoapp',\n
      \                   timeout_seconds=30\n                ):\n                    pod
      = event['object']\n                    event_type = event['type']\n\n                    #
      Only process ADDED events for new pods\n                    if event_type ==
      'ADDED' and pod.metadata.uid not in seen_pods:\n                        seen_pods.add(pod.metadata.uid)\n\n
      \                       # Wait a bit for pod to start\n                        time.sleep(2)\n\n
      \                       # Get commit info\n                        commit_info
      = get_latest_commit_info()\n\n                        if commit_info:\n                            env
      = 'production' if 'production' in namespace else 'development'\n\n                            text
      = f\"\"\"**Deployment: {env}**\nCommit: [{commit_info['sha']}]({commit_info['url']})\nMessage:
      {commit_info['message']}\nAuthor: {commit_info['author']}\nPod: {pod.metadata.name}\"\"\"\n\n
      \                           tags = ['deployment', env, commit_info['sha']]\n\n
      \                           timestamp = int(datetime.now().timestamp() * 1000)\n
      \                           post_grafana_annotation(text, tags, timestamp)\n\n
      \                       print(f\"\U0001F4E6 New deployment detected: {pod.metadata.name}
      in {namespace}\")\n\n        except Exception as e:\n            print(f\"Error
      in watch loop: {e}\")\n            time.sleep(5)\n            continue\n\nif
      __name__ == '__main__':\n    print(\"\U0001F680 Starting Deployment Tracker...\")\n
      \   watch_deployments()\n"
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: "{\"apiVersion\":\"v1\",\"data\":{\"deployment-tracker.py\":\"#!/usr/bin/env
        python3\\n\\\"\\\"\\\"\\nDeployment Tracker for Grafana Annotations\\nWatches
        Kubernetes deployments and posts annotations to Grafana\\n\\\"\\\"\\\"\\n\\nimport
        os\\nimport time\\nimport requests\\nfrom datetime import datetime\\nfrom
        kubernetes import client, config, watch\\n\\n# Configuration\\nGRAFANA_URL
        = os.getenv('GRAFANA_URL', 'http://grafana.monitoring.svc.cluster.local:3000')\\nGRAFANA_USER
        = os.getenv('GRAFANA_USER', 'admin')\\nGRAFANA_PASSWORD = os.getenv('GRAFANA_PASSWORD',
        'GRAFANA_ADMIN_PASSWORD_PLACEHOLDER')\\nGITHUB_TOKEN = os.getenv('GITHUB_TOKEN', '')  # Optional for
        higher rate limits\\nGITHUB_REPO = 'uz0/core-pipeline'\\nNAMESPACES = ['core-pipeline-production',
        'core-pipeline-test']\\n\\n# Grafana dashboard UID where annotations should
        appear\\nDASHBOARD_UID = 'core-pipeline-red'\\n\\ndef get_latest_commit_info():\\n
        \   \\\"\\\"\\\"Fetch latest commit info from GitHub API\\\"\\\"\\\"\\n    url
        = f'https://api.github.com/repos/{GITHUB_REPO}/commits/main'\\n    headers
        = {}\\n    if GITHUB_TOKEN:\\n        headers['Authorization'] = f'token {GITHUB_TOKEN}'\\n\\n
        \   try:\\n        response = requests.get(url, headers=headers, timeout=10)\\n
        \       response.raise_for_status()\\n        commit_data = response.json()\\n\\n
        \       return {\\n            'sha': commit_data['sha'][:7],\\n            'full_sha':
        commit_data['sha'],\\n            'message': commit_data['commit']['message'].split('\\\\n')[0],\\n
        \           'author': commit_data['commit']['author']['name'],\\n            'url':
        commit_data['html_url'],\\n            'date': commit_data['commit']['author']['date']\\n
        \       }\\n    except Exception as e:\\n        print(f\\\"Error fetching
        commit info: {e}\\\")\\n        return None\\n\\ndef post_grafana_annotation(text,
        tags, timestamp=None):\\n    \\\"\\\"\\\"Post annotation to Grafana\\\"\\\"\\\"\\n
        \   if timestamp is None:\\n        timestamp = int(time.time() * 1000)\\n\\n
        \   annotation = {\\n        'dashboardUID': DASHBOARD_UID,\\n        'time':
        timestamp,\\n        'tags': tags,\\n        'text': text\\n    }\\n\\n    url
        = f'{GRAFANA_URL}/api/annotations'\\n\\n    try:\\n        response = requests.post(\\n
        \           url,\\n            json=annotation,\\n            auth=(GRAFANA_USER,
        GRAFANA_PASSWORD),\\n            timeout=10\\n        )\\n        response.raise_for_status()\\n
        \       print(f\\\" Posted annotation: {text}\\\")\\n        return True\\n
        \   except Exception as e:\\n        print(f\\\" Error posting annotation:
        {e}\\\")\\n        return False\\n\\ndef watch_deployments():\\n    \\\"\\\"\\\"Watch
        for new pod deployments\\\"\\\"\\\"\\n    # Load Kubernetes config\\n    try:\\n
        \       config.load_incluster_config()\\n    except:\\n        config.load_kube_config()\\n\\n
        \   v1 = client.CoreV1Api()\\n    w = watch.Watch()\\n\\n    print(f\\\"\U0001F440
        Watching deployments in namespaces: {NAMESPACES}\\\")\\n\\n    # Track seen
        pods to avoid duplicates\\n    seen_pods = set()\\n\\n    for namespace in
        NAMESPACES:\\n        try:\\n            # Get existing pods first\\n            pods
        = v1.list_namespaced_pod(namespace, label_selector='app=kuberoapp')\\n            for
        pod in pods.items:\\n                seen_pods.add(pod.metadata.uid)\\n        except
        Exception as e:\\n            print(f\\\"Error listing pods in {namespace}:
        {e}\\\")\\n\\n    # Watch for new pods\\n    while True:\\n        try:\\n
        \           for namespace in NAMESPACES:\\n                for event in w.stream(\\n
        \                   v1.list_namespaced_pod,\\n                    namespace=namespace,\\n
        \                   label_selector='app=kuberoapp',\\n                    timeout_seconds=30\\n
        \               ):\\n                    pod = event['object']\\n                    event_type
        = event['type']\\n\\n                    # Only process ADDED events for new
        pods\\n                    if event_type == 'ADDED' and pod.metadata.uid not
        in seen_pods:\\n                        seen_pods.add(pod.metadata.uid)\\n\\n
        \                       # Wait a bit for pod to start\\n                        time.sleep(2)\\n\\n
        \                       # Get commit info\\n                        commit_info
        = get_latest_commit_info()\\n\\n                        if commit_info:\\n
        \                           env = 'production' if 'production' in namespace
        else 'development'\\n\\n                            text = f\\\"\\\"\\\"**Deployment:
        {env}**\\nCommit: [{commit_info['sha']}]({commit_info['url']})\\nMessage:
        {commit_info['message']}\\nAuthor: {commit_info['author']}\\nPod: {pod.metadata.name}\\\"\\\"\\\"\\n\\n
        \                           tags = ['deployment', env, commit_info['sha']]\\n\\n
        \                           timestamp = int(datetime.now().timestamp() * 1000)\\n
        \                           post_grafana_annotation(text, tags, timestamp)\\n\\n
        \                       print(f\\\"\U0001F4E6 New deployment detected: {pod.metadata.name}
        in {namespace}\\\")\\n\\n        except Exception as e:\\n            print(f\\\"Error
        in watch loop: {e}\\\")\\n            time.sleep(5)\\n            continue\\n\\nif
        __name__ == '__main__':\\n    print(\\\"\U0001F680 Starting Deployment Tracker...\\\")\\n
        \   watch_deployments()\\n\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{},\"name\":\"deployment-tracker-script\",\"namespace\":\"monitoring\"}}\n"
    name: deployment-tracker-script
    namespace: monitoring
- apiVersion: v1
  data:
    grafana.ini: |
      [server]
      root_url = https://grafana.theedgestory.org

      [auth.proxy]
      enabled = true
      header_name = X-Auth-Request-Email
      header_property = email
      auto_sign_up = true
      whitelist =
      headers = Email:X-Auth-Request-Email
      enable_login_token = false

      [users]
      auto_assign_org = true
      auto_assign_org_role = Admin
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"grafana.ini":"[server]\nroot_url = https://grafana.theedgestory.org\n\n[auth.proxy]\nenabled = true\nheader_name = X-Auth-Request-Email\nheader_property = email\nauto_sign_up = true\nwhitelist =\nheaders = Email:X-Auth-Request-Email\nenable_login_token = false\n\n[users]\nauto_assign_org = true\nauto_assign_org_role = Admin\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"grafana-auth-proxy-config","namespace":"monitoring"}}
    name: grafana-auth-proxy-config
    namespace: monitoring
- apiVersion: v1
  data:
    grafana.ini: "[paths]\ndata = /var/lib/grafana\nlogs = /var/log/grafana\nplugins
      = /var/lib/grafana/plugins\nprovisioning = /etc/grafana/provisioning\n\n[server]\nprotocol
      = http\nhttp_port = 3000\ndomain = grafana.theedgestory.org\nroot_url = https://grafana.theedgestory.org\n\n[auth.google]\nenabled
      = true\nclient_id = GOOGLE_CLIENT_ID_PLACEHOLDER\nclient_secret
      = GOOGLE_CLIENT_SECRET_PLACEHOLDER\nscopes = openid email profile\nauth_url
      = https://accounts.google.com/o/oauth2/v2/auth\ntoken_url = https://oauth2.googleapis.com/token\napi_url
      = https://openidconnect.googleapis.com/v1/userinfo\nallowed_domains =\nallow_sign_up
      = true\nallowed_emails = dcversus@gmail.com\n\n[users]\nauto_assign_org_role
      = Admin\n\n# External links in navigation (top menu)\n[navigation.app_sections]\n[external_link]\nenabled
      = true\n\n[[external_links]]\nname = \"\U0001F3E0 The Edge Story\"\nurl = \"https://theedgestory.org\"\ntarget
      = \"_blank\"\n\n[[external_links]]\nname = \" Status Page\"\nurl = \"https://status.theedgestory.org\"\ntarget
      = \"_blank\"\n\n[[external_links]]\nname = \"\U0001F680 ArgoCD\"\nurl = \"https://argo.theedgestory.org\"\ntarget
      = \"_blank\"\n\n[[external_links]]\nname = \"\U0001F4C8 Prometheus\"\nurl =
      \"https://prometheus.theedgestory.org\"\ntarget = \"_blank\"\n\n[[external_links]]\nname
      = \"\U0001F4E8 Kafka UI\"\nurl = \"https://kafka.theedgestory.org\"\ntarget
      = \"_blank\"\n\n[[external_links]]\nname = \"\U0001F4BE MinIO Console\"\nurl
      = \"https://s3-admin.theedgestory.org\"\ntarget = \"_blank\"\n\n[[external_links]]\nname
      = \"\U0001F527 Dev Pipeline\"\nurl = \"https://core-pipeline.dev.theedgestory.org/api-docs\"\ntarget
      = \"_blank\"\n\n[[external_links]]\nname = \" Prod Pipeline\"\nurl = \"https://core-pipeline.theedgestory.org/api-docs\"\ntarget
      = \"_blank\"\n"
  kind: ConfigMap
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: infrastructure:/ConfigMap:monitoring/grafana-config
      kubectl.kubernetes.io/last-applied-configuration: "{\"apiVersion\":\"v1\",\"data\":{\"grafana.ini\":\"[paths]\\ndata
        = /var/lib/grafana\\nlogs = /var/log/grafana\\nplugins = /var/lib/grafana/plugins\\nprovisioning
        = /etc/grafana/provisioning\\n\\n[server]\\nprotocol = http\\nhttp_port =
        3000\\ndomain = grafana.theedgestory.org\\nroot_url = https://grafana.theedgestory.org\\n\\n[auth.google]\\nenabled
        = true\\nclient_id = GOOGLE_CLIENT_ID_PLACEHOLDER\\nclient_secret
        = GOOGLE_CLIENT_SECRET_PLACEHOLDER\\nscopes = openid email profile\\nauth_url
        = https://accounts.google.com/o/oauth2/v2/auth\\ntoken_url = https://oauth2.googleapis.com/token\\napi_url
        = https://openidconnect.googleapis.com/v1/userinfo\\nallowed_domains =\\nallow_sign_up
        = true\\nallowed_emails = dcversus@gmail.com\\n\\n[users]\\nauto_assign_org_role
        = Admin\\n\\n# External links in navigation (top menu)\\n[navigation.app_sections]\\n[external_link]\\nenabled
        = true\\n\\n[[external_links]]\\nname = \\\"\U0001F3E0 The Edge Story\\\"\\nurl
        = \\\"https://theedgestory.org\\\"\\ntarget = \\\"_blank\\\"\\n\\n[[external_links]]\\nname
        = \\\" Status Page\\\"\\nurl = \\\"https://status.theedgestory.org\\\"\\ntarget
        = \\\"_blank\\\"\\n\\n[[external_links]]\\nname = \\\"\U0001F680 ArgoCD\\\"\\nurl
        = \\\"https://argo.theedgestory.org\\\"\\ntarget = \\\"_blank\\\"\\n\\n[[external_links]]\\nname
        = \\\"\U0001F4C8 Prometheus\\\"\\nurl = \\\"https://prometheus.theedgestory.org\\\"\\ntarget
        = \\\"_blank\\\"\\n\\n[[external_links]]\\nname = \\\"\U0001F4E8 Kafka UI\\\"\\nurl
        = \\\"https://kafka.theedgestory.org\\\"\\ntarget = \\\"_blank\\\"\\n\\n[[external_links]]\\nname
        = \\\"\U0001F4BE MinIO Console\\\"\\nurl = \\\"https://s3-admin.theedgestory.org\\\"\\ntarget
        = \\\"_blank\\\"\\n\\n[[external_links]]\\nname = \\\"\U0001F527 Dev Pipeline\\\"\\nurl
        = \\\"https://core-pipeline.dev.theedgestory.org/api-docs\\\"\\ntarget = \\\"_blank\\\"\\n\\n[[external_links]]\\nname
        = \\\" Prod Pipeline\\\"\\nurl = \\\"https://core-pipeline.theedgestory.org/api-docs\\\"\\ntarget
        = \\\"_blank\\\"\\n\"},\"kind\":\"ConfigMap\",\"metadata\":{\"annotations\":{\"argocd.argoproj.io/tracking-id\":\"infrastructure:/ConfigMap:monitoring/grafana-config\"},\"creationTimestamp\":\"2025-10-06T21:13:59Z\",\"labels\":{\"app\":\"grafana\"},\"name\":\"grafana-config\",\"namespace\":\"monitoring\",\"resourceVersion\":\"331150\",\"uid\":\"05395962-397e-4d83-ae4c-5aea73086d60\"}}\n"
    labels:
      app: grafana
    name: grafana-config
    namespace: monitoring
- apiVersion: v1
  data:
    kubernetes-cluster.json: |
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "grafana",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": true,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 1,
        "id": null,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 0
            },
            "id": 100,
            "panels": [],
            "title": "Cluster Overview",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 0,
              "y": 1
            },
            "id": 1,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": [
                  "lastNotNull"
                ],
                "fields": ""
              },
              "textMode": "auto"
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "count(kube_node_info)",
                "refId": "A"
              }
            ],
            "title": "Total Nodes",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 3,
              "y": 1
            },
            "id": 2,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": [
                  "lastNotNull"
                ],
                "fields": ""
              },
              "textMode": "auto"
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "count(kube_pod_info{namespace=~\"$namespace\"})",
                "refId": "A"
              }
            ],
            "title": "Total Pods",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 6,
              "y": 1
            },
            "id": 3,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": [
                  "lastNotNull"
                ],
                "fields": ""
              },
              "textMode": "auto"
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "count(kube_deployment_labels{namespace=~\"$namespace\"})",
                "refId": "A"
              }
            ],
            "title": "Total Deployments",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 3,
              "x": 9,
              "y": 1
            },
            "id": 4,
            "options": {
              "colorMode": "value",
              "graphMode": "none",
              "justifyMode": "auto",
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": [
                  "lastNotNull"
                ],
                "fields": ""
              },
              "textMode": "auto"
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "count(kube_service_info{namespace=~\"$namespace\"})",
                "refId": "A"
              }
            ],
            "title": "Total Services",
            "type": "stat"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 70
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 12,
              "y": 1
            },
            "id": 5,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": [
                  "lastNotNull"
                ],
                "fields": ""
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "100 - (avg(rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)",
                "refId": "A"
              }
            ],
            "title": "Cluster CPU Usage",
            "type": "gauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 70
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 18,
              "y": 1
            },
            "id": 6,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": [
                  "lastNotNull"
                ],
                "fields": ""
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "(1 - sum(node_memory_MemAvailable_bytes) / sum(node_memory_MemTotal_bytes)) * 100",
                "refId": "A"
              }
            ],
            "title": "Cluster Memory Usage",
            "type": "gauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Running"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "green",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Pending"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "yellow",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Failed"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 5
            },
            "id": 7,
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Running\"})",
                "legendFormat": "Running",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Pending\"})",
                "legendFormat": "Pending",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Failed\"})",
                "legendFormat": "Failed",
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kube_pod_status_phase{namespace=~\"$namespace\", phase=\"Succeeded\"})",
                "legendFormat": "Succeeded",
                "refId": "D"
              }
            ],
            "title": "Pod Status Breakdown",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "percentunit"
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "color-background"
                      }
                    },
                    {
                      "id": "thresholds",
                      "value": {
                        "mode": "absolute",
                        "steps": [
                          {
                            "color": "green",
                            "value": null
                          },
                          {
                            "color": "yellow",
                            "value": 0.7
                          },
                          {
                            "color": "red",
                            "value": 0.9
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 6,
              "x": 12,
              "y": 5
            },
            "id": 8,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "topk(5, sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", pod!=\"\"}[5m])) by (pod, namespace))",
                "format": "table",
                "instant": true,
                "refId": "A"
              }
            ],
            "title": "Top 5 CPU Consuming Pods",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true
                  },
                  "indexByName": {
                    "namespace": 0,
                    "pod": 1,
                    "Value": 2
                  },
                  "renameByName": {
                    "Value": "CPU Usage",
                    "namespace": "Namespace",
                    "pod": "Pod"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Value"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "bytes"
                    },
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "color-background"
                      }
                    },
                    {
                      "id": "thresholds",
                      "value": {
                        "mode": "absolute",
                        "steps": [
                          {
                            "color": "green",
                            "value": null
                          },
                          {
                            "color": "yellow",
                            "value": 1073741824
                          },
                          {
                            "color": "red",
                            "value": 2147483648
                          }
                        ]
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 6,
              "x": 18,
              "y": 5
            },
            "id": 9,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "topk(5, sum(container_memory_working_set_bytes{namespace=~\"$namespace\", pod!=\"\"}) by (pod, namespace))",
                "format": "table",
                "instant": true,
                "refId": "A"
              }
            ],
            "title": "Top 5 Memory Consuming Pods",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true
                  },
                  "indexByName": {
                    "namespace": 0,
                    "pod": 1,
                    "Value": 2
                  },
                  "renameByName": {
                    "Value": "Memory Usage",
                    "namespace": "Namespace",
                    "pod": "Pod"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 13
            },
            "id": 101,
            "panels": [],
            "title": "Node Metrics",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 14
            },
            "id": 10,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)",
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "CPU Usage per Node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 14
            },
            "id": 11,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100",
                "legendFormat": "{{instance}}",
                "refId": "A"
              }
            ],
            "title": "Memory Usage per Node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 22
            },
            "id": 12,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "rate(node_disk_read_bytes_total[5m])",
                "legendFormat": "{{instance}} - read",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "rate(node_disk_written_bytes_total[5m])",
                "legendFormat": "{{instance}} - write",
                "refId": "B"
              }
            ],
            "title": "Disk I/O per Node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 22
            },
            "id": 13,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "rate(node_network_receive_bytes_total{device!~\"lo|veth.*|docker.*|br.*\"}[5m])",
                "legendFormat": "{{instance}} - {{device}} - receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "rate(node_network_transmit_bytes_total{device!~\"lo|veth.*|docker.*|br.*\"}[5m])",
                "legendFormat": "{{instance}} - {{device}} - transmit",
                "refId": "B"
              }
            ],
            "title": "Network Traffic per Node",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "color": "red",
                        "index": 1,
                        "text": "Down"
                      },
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "Ready"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Uptime"
                  },
                  "properties": [
                    {
                      "id": "unit",
                      "value": "s"
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Status"
                  },
                  "properties": [
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 30
            },
            "id": 14,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "kube_node_status_condition{condition=\"Ready\", status=\"true\"}",
                "format": "table",
                "instant": true,
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "node_time_seconds - node_boot_time_seconds",
                "format": "table",
                "instant": true,
                "refId": "B"
              }
            ],
            "title": "Node Status and Uptime",
            "transformations": [
              {
                "id": "merge",
                "options": {}
              },
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "condition": true,
                    "endpoint": true,
                    "job": true,
                    "namespace": true,
                    "service": true,
                    "status": true,
                    "uid": true
                  },
                  "indexByName": {
                    "node": 0,
                    "Value #A": 1,
                    "Value #B": 2
                  },
                  "renameByName": {
                    "Value #A": "Status",
                    "Value #B": "Uptime",
                    "node": "Node"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 38
            },
            "id": 102,
            "panels": [],
            "title": "Pod Metrics",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 39
            },
            "id": 15,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", pod!=\"\"}[5m])) by (namespace)",
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "title": "Pod CPU Usage by Namespace",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 39
            },
            "id": 16,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\", pod!=\"\"}) by (namespace)",
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "title": "Pod Memory Usage by Namespace",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 1
                    },
                    {
                      "color": "orange",
                      "value": 5
                    },
                    {
                      "color": "red",
                      "value": 10
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Restarts"
                  },
                  "properties": [
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 47
            },
            "id": 17,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true,
              "sortBy": [
                {
                  "desc": true,
                  "displayName": "Restarts"
                }
              ]
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kube_pod_container_status_restarts_total{namespace=~\"$namespace\"}) by (namespace, pod)",
                "format": "table",
                "instant": true,
                "refId": "A"
              }
            ],
            "title": "Pod Restart Count",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true
                  },
                  "indexByName": {
                    "namespace": 0,
                    "pod": 1,
                    "Value": 2
                  },
                  "renameByName": {
                    "Value": "Restarts",
                    "namespace": "Namespace",
                    "pod": "Pod"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "0": {
                        "color": "red",
                        "index": 2,
                        "text": "Not Running"
                      },
                      "1": {
                        "color": "green",
                        "index": 0,
                        "text": "Running"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Status"
                  },
                  "properties": [
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 47
            },
            "id": 18,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "kube_pod_container_status_running{namespace=~\"$namespace\"}",
                "format": "table",
                "instant": true,
                "refId": "A"
              }
            ],
            "title": "Container Status",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "endpoint": true,
                    "job": true,
                    "service": true,
                    "uid": true
                  },
                  "indexByName": {
                    "namespace": 0,
                    "pod": 1,
                    "container": 2,
                    "Value": 3
                  },
                  "renameByName": {
                    "Value": "Status",
                    "container": "Container",
                    "namespace": "Namespace",
                    "pod": "Pod"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 55
            },
            "id": 103,
            "panels": [],
            "title": "Namespace Resource Usage",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  }
                },
                "mappings": [],
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 0,
              "y": 56
            },
            "id": 19,
            "options": {
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value",
                  "percent"
                ]
              },
              "pieType": "pie",
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=~\"$namespace\", pod!=\"\"}[5m])) by (namespace)",
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "title": "CPU Usage per Namespace",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  }
                },
                "mappings": [],
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 8,
              "y": 56
            },
            "id": 20,
            "options": {
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value",
                  "percent"
                ]
              },
              "pieType": "pie",
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(container_memory_working_set_bytes{namespace=~\"$namespace\", pod!=\"\"}) by (namespace)",
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "title": "Memory Usage per Namespace",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  }
                },
                "mappings": [],
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 8,
              "x": 16,
              "y": 56
            },
            "id": 21,
            "options": {
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value",
                  "percent"
                ]
              },
              "pieType": "pie",
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kube_pod_info{namespace=~\"$namespace\"}) by (namespace)",
                "legendFormat": "{{namespace}}",
                "refId": "A"
              }
            ],
            "title": "Pod Count per Namespace",
            "type": "piechart"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 64
            },
            "id": 104,
            "panels": [],
            "title": "Storage Metrics",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 65
            },
            "id": 22,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "kubelet_volume_stats_used_bytes{namespace=~\"$namespace\"}",
                "legendFormat": "{{namespace}}/{{persistentvolumeclaim}}",
                "refId": "A"
              }
            ],
            "title": "Persistent Volume Usage",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "custom": {
                  "align": "auto",
                  "cellOptions": {
                    "type": "auto"
                  },
                  "inspect": false
                },
                "mappings": [
                  {
                    "options": {
                      "Bound": {
                        "color": "green",
                        "index": 0,
                        "text": "Bound"
                      },
                      "Lost": {
                        "color": "red",
                        "index": 2,
                        "text": "Lost"
                      },
                      "Pending": {
                        "color": "yellow",
                        "index": 1,
                        "text": "Pending"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "Phase"
                  },
                  "properties": [
                    {
                      "id": "custom.cellOptions",
                      "value": {
                        "type": "color-background"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 65
            },
            "id": 23,
            "options": {
              "cellHeight": "sm",
              "footer": {
                "countRows": false,
                "fields": "",
                "reducer": [
                  "sum"
                ],
                "show": false
              },
              "showHeader": true
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "kube_persistentvolumeclaim_status_phase{namespace=~\"$namespace\"}",
                "format": "table",
                "instant": true,
                "refId": "A"
              }
            ],
            "title": "Persistent Volume Claim Status",
            "transformations": [
              {
                "id": "organize",
                "options": {
                  "excludeByName": {
                    "Time": true,
                    "Value": true,
                    "endpoint": true,
                    "job": true,
                    "service": true
                  },
                  "indexByName": {
                    "namespace": 0,
                    "persistentvolumeclaim": 1,
                    "phase": 2,
                    "storageclass": 3
                  },
                  "renameByName": {
                    "namespace": "Namespace",
                    "persistentvolumeclaim": "PVC",
                    "phase": "Phase",
                    "storageclass": "Storage Class"
                  }
                }
              }
            ],
            "type": "table"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  }
                },
                "mappings": [],
                "unit": "bytes"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 73
            },
            "id": 24,
            "options": {
              "legend": {
                "displayMode": "table",
                "placement": "right",
                "showLegend": true,
                "values": [
                  "value",
                  "percent"
                ]
              },
              "pieType": "donut",
              "tooltip": {
                "mode": "single",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(kubelet_volume_stats_used_bytes{namespace=~\"$namespace\"}) by (storageclass)",
                "legendFormat": "{{storageclass}}",
                "refId": "A"
              }
            ],
            "title": "Storage Class Usage",
            "type": "piechart"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "max": 100,
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 70
                    },
                    {
                      "color": "red",
                      "value": 90
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 73
            },
            "id": 25,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "(kubelet_volume_stats_used_bytes{namespace=~\"$namespace\"} / kubelet_volume_stats_capacity_bytes{namespace=~\"$namespace\"}) * 100",
                "legendFormat": "{{namespace}}/{{persistentvolumeclaim}}",
                "refId": "A"
              }
            ],
            "title": "PV Capacity Utilization",
            "type": "timeseries"
          },
          {
            "collapsed": false,
            "gridPos": {
              "h": 1,
              "w": 24,
              "x": 0,
              "y": 81
            },
            "id": 105,
            "panels": [],
            "title": "Network Metrics",
            "type": "row"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "Bps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 82
            },
            "id": 26,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_network_receive_bytes_total{namespace=~\"$namespace\", pod!=\"\"}[5m])) by (pod, namespace)",
                "legendFormat": "{{namespace}}/{{pod}} - receive",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_network_transmit_bytes_total{namespace=~\"$namespace\", pod!=\"\"}[5m])) by (pod, namespace)",
                "legendFormat": "{{namespace}}/{{pod}} - transmit",
                "refId": "B"
              }
            ],
            "title": "Network I/O by Pod",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "pps"
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": ".*errors.*"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byRegexp",
                    "options": ".*drops.*"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 82
            },
            "id": 27,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_network_receive_errors_total{namespace=~\"$namespace\"}[5m])) by (namespace)",
                "legendFormat": "{{namespace}} - receive errors",
                "refId": "A"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_network_transmit_errors_total{namespace=~\"$namespace\"}[5m])) by (namespace)",
                "legendFormat": "{{namespace}} - transmit errors",
                "refId": "B"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_network_receive_packets_dropped_total{namespace=~\"$namespace\"}[5m])) by (namespace)",
                "legendFormat": "{{namespace}} - receive drops",
                "refId": "C"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(container_network_transmit_packets_dropped_total{namespace=~\"$namespace\"}[5m])) by (namespace)",
                "legendFormat": "{{namespace}} - transmit drops",
                "refId": "D"
              }
            ],
            "title": "Network Errors and Drops",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 20,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 90
            },
            "id": 28,
            "options": {
              "legend": {
                "calcs": [
                  "last",
                  "max",
                  "mean"
                ],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.0.0",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(traefik_service_requests_total{namespace=~\"$namespace\"}[5m])) by (service)",
                "legendFormat": "{{service}}",
                "refId": "A"
              }
            ],
            "title": "Ingress Request Rate",
            "type": "timeseries"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 38,
        "style": "dark",
        "tags": [
          "kubernetes",
          "cluster",
          "monitoring",
          "k3s"
        ],
        "templating": {
          "list": [
            {
              "allValue": ".*",
              "current": {
                "selected": true,
                "text": "All",
                "value": "$__all"
              },
              "datasource": {
                "type": "prometheus",
                "uid": "prometheus"
              },
              "definition": "label_values(kube_namespace_labels, namespace)",
              "hide": 0,
              "includeAll": true,
              "label": "Namespace",
              "multi": true,
              "name": "namespace",
              "options": [],
              "query": {
                "query": "label_values(kube_namespace_labels, namespace)",
                "refId": "PrometheusVariableQueryEditor-VariableQuery"
              },
              "refresh": 1,
              "regex": "",
              "skipUrlSync": false,
              "sort": 1,
              "type": "query"
            }
          ]
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ]
        },
        "timezone": "browser",
        "title": "Kubernetes Cluster Monitoring Dashboard",
        "uid": "k8s-cluster-monitoring",
        "version": 1,
        "weekStart": ""
      }
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"kubernetes-cluster.json":"{\n  \"annotations\": {\n    \"list\": [\n      {\n        \"builtIn\": 1,\n        \"datasource\": {\n          \"type\": \"grafana\",\n          \"uid\": \"-- Grafana --\"\n        },\n        \"enable\": true,\n        \"hide\": true,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n        \"name\": \"Annotations \u0026 Alerts\",\n        \"type\": \"dashboard\"\n      }\n    ]\n  },\n  \"editable\": true,\n  \"fiscalYearStartMonth\": 0,\n  \"graphTooltip\": 1,\n  \"id\": null,\n  \"links\": [],\n  \"liveNow\": false,\n  \"panels\": [\n    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 100,\n      \"panels\": [],\n      \"title\": \"Cluster Overview\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 0,\n        \"y\": 1\n      },\n      \"id\": 1,\n      \"options\": {\n        \"colorMode\": \"value\",\n        \"graphMode\": \"none\",\n        \"justifyMode\": \"auto\",\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n          \"fields\": \"\"\n        },\n        \"textMode\": \"auto\"\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"count(kube_node_info)\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Total Nodes\",\n      \"type\": \"stat\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 3,\n        \"y\": 1\n      },\n      \"id\": 2,\n      \"options\": {\n        \"colorMode\": \"value\",\n        \"graphMode\": \"none\",\n        \"justifyMode\": \"auto\",\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n          \"fields\": \"\"\n        },\n        \"textMode\": \"auto\"\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"count(kube_pod_info{namespace=~\\\"$namespace\\\"})\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Total Pods\",\n      \"type\": \"stat\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 6,\n        \"y\": 1\n      },\n      \"id\": 3,\n      \"options\": {\n        \"colorMode\": \"value\",\n        \"graphMode\": \"none\",\n        \"justifyMode\": \"auto\",\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n          \"fields\": \"\"\n        },\n        \"textMode\": \"auto\"\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"count(kube_deployment_labels{namespace=~\\\"$namespace\\\"})\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Total Deployments\",\n      \"type\": \"stat\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 3,\n        \"x\": 9,\n        \"y\": 1\n      },\n      \"id\": 4,\n      \"options\": {\n        \"colorMode\": \"value\",\n        \"graphMode\": \"none\",\n        \"justifyMode\": \"auto\",\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n          \"fields\": \"\"\n        },\n        \"textMode\": \"auto\"\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"count(kube_service_info{namespace=~\\\"$namespace\\\"})\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Total Services\",\n      \"type\": \"stat\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"max\": 100,\n          \"min\": 0,\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 70\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 90\n              }\n            ]\n          },\n          \"unit\": \"percent\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\": 12,\n        \"y\": 1\n      },\n      \"id\": 5,\n      \"options\": {\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n          \"fields\": \"\"\n        },\n        \"showThresholdLabels\": false,\n        \"showThresholdMarkers\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"100 - (avg(rate(node_cpu_seconds_total{mode=\\\"idle\\\"}[5m])) * 100)\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Cluster CPU Usage\",\n      \"type\": \"gauge\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"max\": 100,\n          \"min\": 0,\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 70\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 90\n              }\n            ]\n          },\n          \"unit\": \"percent\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 1\n      },\n      \"id\": 6,\n      \"options\": {\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\n            \"lastNotNull\"\n          ],\n          \"fields\": \"\"\n        },\n        \"showThresholdLabels\": false,\n        \"showThresholdMarkers\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"(1 - sum(node_memory_MemAvailable_bytes) / sum(node_memory_MemTotal_bytes)) * 100\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Cluster Memory Usage\",\n      \"type\": \"gauge\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Running\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"color\",\n                \"value\": {\n                  \"fixedColor\": \"green\",\n                  \"mode\": \"fixed\"\n                }\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Pending\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"color\",\n                \"value\": {\n                  \"fixedColor\": \"yellow\",\n                  \"mode\": \"fixed\"\n                }\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Failed\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"color\",\n                \"value\": {\n                  \"fixedColor\": \"red\",\n                  \"mode\": \"fixed\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 5\n      },\n      \"id\": 7,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [],\n          \"displayMode\": \"list\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kube_pod_status_phase{namespace=~\\\"$namespace\\\", phase=\\\"Running\\\"})\",\n          \"legendFormat\": \"Running\",\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kube_pod_status_phase{namespace=~\\\"$namespace\\\", phase=\\\"Pending\\\"})\",\n          \"legendFormat\": \"Pending\",\n          \"refId\": \"B\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kube_pod_status_phase{namespace=~\\\"$namespace\\\", phase=\\\"Failed\\\"})\",\n          \"legendFormat\": \"Failed\",\n          \"refId\": \"C\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kube_pod_status_phase{namespace=~\\\"$namespace\\\", phase=\\\"Succeeded\\\"})\",\n          \"legendFormat\": \"Succeeded\",\n          \"refId\": \"D\"\n        }\n      ],\n      \"title\": \"Pod Status Breakdown\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"cellOptions\": {\n              \"type\": \"auto\"\n            },\n            \"inspect\": false\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"percentunit\"\n              },\n              {\n                \"id\": \"custom.cellOptions\",\n                \"value\": {\n                  \"type\": \"color-background\"\n                }\n              },\n              {\n                \"id\": \"thresholds\",\n                \"value\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                    {\n                      \"color\": \"green\",\n                      \"value\": null\n                    },\n                    {\n                      \"color\": \"yellow\",\n                      \"value\": 0.7\n                    },\n                    {\n                      \"color\": \"red\",\n                      \"value\": 0.9\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 6,\n        \"x\": 12,\n        \"y\": 5\n      },\n      \"id\": 8,\n      \"options\": {\n        \"cellHeight\": \"sm\",\n        \"footer\": {\n          \"countRows\": false,\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"topk(5, sum(rate(container_cpu_usage_seconds_total{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}[5m])) by (pod, namespace))\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Top 5 CPU Consuming Pods\",\n      \"transformations\": [\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time\": true\n            },\n            \"indexByName\": {\n              \"namespace\": 0,\n              \"pod\": 1,\n              \"Value\": 2\n            },\n            \"renameByName\": {\n              \"Value\": \"CPU Usage\",\n              \"namespace\": \"Namespace\",\n              \"pod\": \"Pod\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"cellOptions\": {\n              \"type\": \"auto\"\n            },\n            \"inspect\": false\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Value\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"bytes\"\n              },\n              {\n                \"id\": \"custom.cellOptions\",\n                \"value\": {\n                  \"type\": \"color-background\"\n                }\n              },\n              {\n                \"id\": \"thresholds\",\n                \"value\": {\n                  \"mode\": \"absolute\",\n                  \"steps\": [\n                    {\n                      \"color\": \"green\",\n                      \"value\": null\n                    },\n                    {\n                      \"color\": \"yellow\",\n                      \"value\": 1073741824\n                    },\n                    {\n                      \"color\": \"red\",\n                      \"value\": 2147483648\n                    }\n                  ]\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 5\n      },\n      \"id\": 9,\n      \"options\": {\n        \"cellHeight\": \"sm\",\n        \"footer\": {\n          \"countRows\": false,\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"topk(5, sum(container_memory_working_set_bytes{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}) by (pod, namespace))\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Top 5 Memory Consuming Pods\",\n      \"transformations\": [\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time\": true\n            },\n            \"indexByName\": {\n              \"namespace\": 0,\n              \"pod\": 1,\n              \"Value\": 2\n            },\n            \"renameByName\": {\n              \"Value\": \"Memory Usage\",\n              \"namespace\": \"Namespace\",\n              \"pod\": \"Pod\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 13\n      },\n      \"id\": 101,\n      \"panels\": [],\n      \"title\": \"Node Metrics\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"max\": 100,\n          \"min\": 0,\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"percent\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 14\n      },\n      \"id\": 10,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"100 - (avg by (instance) (rate(node_cpu_seconds_total{mode=\\\"idle\\\"}[5m])) * 100)\",\n          \"legendFormat\": \"{{instance}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"CPU Usage per Node\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"max\": 100,\n          \"min\": 0,\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"percent\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 14\n      },\n      \"id\": 11,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100\",\n          \"legendFormat\": \"{{instance}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Memory Usage per Node\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"Bps\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 22\n      },\n      \"id\": 12,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"rate(node_disk_read_bytes_total[5m])\",\n          \"legendFormat\": \"{{instance}} - read\",\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"rate(node_disk_written_bytes_total[5m])\",\n          \"legendFormat\": \"{{instance}} - write\",\n          \"refId\": \"B\"\n        }\n      ],\n      \"title\": \"Disk I/O per Node\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"Bps\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 22\n      },\n      \"id\": 13,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"rate(node_network_receive_bytes_total{device!~\\\"lo|veth.*|docker.*|br.*\\\"}[5m])\",\n          \"legendFormat\": \"{{instance}} - {{device}} - receive\",\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"rate(node_network_transmit_bytes_total{device!~\\\"lo|veth.*|docker.*|br.*\\\"}[5m])\",\n          \"legendFormat\": \"{{instance}} - {{device}} - transmit\",\n          \"refId\": \"B\"\n        }\n      ],\n      \"title\": \"Network Traffic per Node\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"cellOptions\": {\n              \"type\": \"auto\"\n            },\n            \"inspect\": false\n          },\n          \"mappings\": [\n            {\n              \"options\": {\n                \"0\": {\n                  \"color\": \"red\",\n                  \"index\": 1,\n                  \"text\": \"Down\"\n                },\n                \"1\": {\n                  \"color\": \"green\",\n                  \"index\": 0,\n                  \"text\": \"Ready\"\n                }\n              },\n              \"type\": \"value\"\n            }\n          ],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Uptime\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"unit\",\n                \"value\": \"s\"\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Status\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"custom.cellOptions\",\n                \"value\": {\n                  \"type\": \"color-background\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 30\n      },\n      \"id\": 14,\n      \"options\": {\n        \"cellHeight\": \"sm\",\n        \"footer\": {\n          \"countRows\": false,\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"kube_node_status_condition{condition=\\\"Ready\\\", status=\\\"true\\\"}\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"node_time_seconds - node_boot_time_seconds\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"B\"\n        }\n      ],\n      \"title\": \"Node Status and Uptime\",\n      \"transformations\": [\n        {\n          \"id\": \"merge\",\n          \"options\": {}\n        },\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time\": true,\n              \"condition\": true,\n              \"endpoint\": true,\n              \"job\": true,\n              \"namespace\": true,\n              \"service\": true,\n              \"status\": true,\n              \"uid\": true\n            },\n            \"indexByName\": {\n              \"node\": 0,\n              \"Value #A\": 1,\n              \"Value #B\": 2\n            },\n            \"renameByName\": {\n              \"Value #A\": \"Status\",\n              \"Value #B\": \"Uptime\",\n              \"node\": \"Node\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 38\n      },\n      \"id\": 102,\n      \"panels\": [],\n      \"title\": \"Pod Metrics\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"percentunit\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 39\n      },\n      \"id\": 15,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}[5m])) by (namespace)\",\n          \"legendFormat\": \"{{namespace}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Pod CPU Usage by Namespace\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"bytes\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 39\n      },\n      \"id\": 16,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(container_memory_working_set_bytes{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}) by (namespace)\",\n          \"legendFormat\": \"{{namespace}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Pod Memory Usage by Namespace\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"cellOptions\": {\n              \"type\": \"auto\"\n            },\n            \"inspect\": false\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 1\n              },\n              {\n                \"color\": \"orange\",\n                \"value\": 5\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 10\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Restarts\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"custom.cellOptions\",\n                \"value\": {\n                  \"type\": \"color-background\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 47\n      },\n      \"id\": 17,\n      \"options\": {\n        \"cellHeight\": \"sm\",\n        \"footer\": {\n          \"countRows\": false,\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true,\n        \"sortBy\": [\n          {\n            \"desc\": true,\n            \"displayName\": \"Restarts\"\n          }\n        ]\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kube_pod_container_status_restarts_total{namespace=~\\\"$namespace\\\"}) by (namespace, pod)\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Pod Restart Count\",\n      \"transformations\": [\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time\": true\n            },\n            \"indexByName\": {\n              \"namespace\": 0,\n              \"pod\": 1,\n              \"Value\": 2\n            },\n            \"renameByName\": {\n              \"Value\": \"Restarts\",\n              \"namespace\": \"Namespace\",\n              \"pod\": \"Pod\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"cellOptions\": {\n              \"type\": \"auto\"\n            },\n            \"inspect\": false\n          },\n          \"mappings\": [\n            {\n              \"options\": {\n                \"0\": {\n                  \"color\": \"red\",\n                  \"index\": 2,\n                  \"text\": \"Not Running\"\n                },\n                \"1\": {\n                  \"color\": \"green\",\n                  \"index\": 0,\n                  \"text\": \"Running\"\n                }\n              },\n              \"type\": \"value\"\n            }\n          ],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Status\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"custom.cellOptions\",\n                \"value\": {\n                  \"type\": \"color-background\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 47\n      },\n      \"id\": 18,\n      \"options\": {\n        \"cellHeight\": \"sm\",\n        \"footer\": {\n          \"countRows\": false,\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"kube_pod_container_status_running{namespace=~\\\"$namespace\\\"}\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Container Status\",\n      \"transformations\": [\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time\": true,\n              \"endpoint\": true,\n              \"job\": true,\n              \"service\": true,\n              \"uid\": true\n            },\n            \"indexByName\": {\n              \"namespace\": 0,\n              \"pod\": 1,\n              \"container\": 2,\n              \"Value\": 3\n            },\n            \"renameByName\": {\n              \"Value\": \"Status\",\n              \"container\": \"Container\",\n              \"namespace\": \"Namespace\",\n              \"pod\": \"Pod\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 55\n      },\n      \"id\": 103,\n      \"panels\": [],\n      \"title\": \"Namespace Resource Usage\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            }\n          },\n          \"mappings\": [],\n          \"unit\": \"percentunit\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 8,\n        \"x\": 0,\n        \"y\": 56\n      },\n      \"id\": 19,\n      \"options\": {\n        \"legend\": {\n          \"displayMode\": \"table\",\n          \"placement\": \"right\",\n          \"showLegend\": true,\n          \"values\": [\n            \"value\",\n            \"percent\"\n          ]\n        },\n        \"pieType\": \"pie\",\n        \"tooltip\": {\n          \"mode\": \"single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_cpu_usage_seconds_total{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}[5m])) by (namespace)\",\n          \"legendFormat\": \"{{namespace}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"CPU Usage per Namespace\",\n      \"type\": \"piechart\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            }\n          },\n          \"mappings\": [],\n          \"unit\": \"bytes\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 8,\n        \"x\": 8,\n        \"y\": 56\n      },\n      \"id\": 20,\n      \"options\": {\n        \"legend\": {\n          \"displayMode\": \"table\",\n          \"placement\": \"right\",\n          \"showLegend\": true,\n          \"values\": [\n            \"value\",\n            \"percent\"\n          ]\n        },\n        \"pieType\": \"pie\",\n        \"tooltip\": {\n          \"mode\": \"single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(container_memory_working_set_bytes{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}) by (namespace)\",\n          \"legendFormat\": \"{{namespace}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Memory Usage per Namespace\",\n      \"type\": \"piechart\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            }\n          },\n          \"mappings\": [],\n          \"unit\": \"short\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 8,\n        \"x\": 16,\n        \"y\": 56\n      },\n      \"id\": 21,\n      \"options\": {\n        \"legend\": {\n          \"displayMode\": \"table\",\n          \"placement\": \"right\",\n          \"showLegend\": true,\n          \"values\": [\n            \"value\",\n            \"percent\"\n          ]\n        },\n        \"pieType\": \"pie\",\n        \"tooltip\": {\n          \"mode\": \"single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kube_pod_info{namespace=~\\\"$namespace\\\"}) by (namespace)\",\n          \"legendFormat\": \"{{namespace}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Pod Count per Namespace\",\n      \"type\": \"piechart\"\n    },\n    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 64\n      },\n      \"id\": 104,\n      \"panels\": [],\n      \"title\": \"Storage Metrics\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"bytes\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 65\n      },\n      \"id\": 22,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"kubelet_volume_stats_used_bytes{namespace=~\\\"$namespace\\\"}\",\n          \"legendFormat\": \"{{namespace}}/{{persistentvolumeclaim}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Persistent Volume Usage\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"custom\": {\n            \"align\": \"auto\",\n            \"cellOptions\": {\n              \"type\": \"auto\"\n            },\n            \"inspect\": false\n          },\n          \"mappings\": [\n            {\n              \"options\": {\n                \"Bound\": {\n                  \"color\": \"green\",\n                  \"index\": 0,\n                  \"text\": \"Bound\"\n                },\n                \"Lost\": {\n                  \"color\": \"red\",\n                  \"index\": 2,\n                  \"text\": \"Lost\"\n                },\n                \"Pending\": {\n                  \"color\": \"yellow\",\n                  \"index\": 1,\n                  \"text\": \"Pending\"\n                }\n              },\n              \"type\": \"value\"\n            }\n          ],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byName\",\n              \"options\": \"Phase\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"custom.cellOptions\",\n                \"value\": {\n                  \"type\": \"color-background\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 65\n      },\n      \"id\": 23,\n      \"options\": {\n        \"cellHeight\": \"sm\",\n        \"footer\": {\n          \"countRows\": false,\n          \"fields\": \"\",\n          \"reducer\": [\n            \"sum\"\n          ],\n          \"show\": false\n        },\n        \"showHeader\": true\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"kube_persistentvolumeclaim_status_phase{namespace=~\\\"$namespace\\\"}\",\n          \"format\": \"table\",\n          \"instant\": true,\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Persistent Volume Claim Status\",\n      \"transformations\": [\n        {\n          \"id\": \"organize\",\n          \"options\": {\n            \"excludeByName\": {\n              \"Time\": true,\n              \"Value\": true,\n              \"endpoint\": true,\n              \"job\": true,\n              \"service\": true\n            },\n            \"indexByName\": {\n              \"namespace\": 0,\n              \"persistentvolumeclaim\": 1,\n              \"phase\": 2,\n              \"storageclass\": 3\n            },\n            \"renameByName\": {\n              \"namespace\": \"Namespace\",\n              \"persistentvolumeclaim\": \"PVC\",\n              \"phase\": \"Phase\",\n              \"storageclass\": \"Storage Class\"\n            }\n          }\n        }\n      ],\n      \"type\": \"table\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            }\n          },\n          \"mappings\": [],\n          \"unit\": \"bytes\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 73\n      },\n      \"id\": 24,\n      \"options\": {\n        \"legend\": {\n          \"displayMode\": \"table\",\n          \"placement\": \"right\",\n          \"showLegend\": true,\n          \"values\": [\n            \"value\",\n            \"percent\"\n          ]\n        },\n        \"pieType\": \"donut\",\n        \"tooltip\": {\n          \"mode\": \"single\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(kubelet_volume_stats_used_bytes{namespace=~\\\"$namespace\\\"}) by (storageclass)\",\n          \"legendFormat\": \"{{storageclass}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Storage Class Usage\",\n      \"type\": \"piechart\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"max\": 100,\n          \"min\": 0,\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 70\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 90\n              }\n            ]\n          },\n          \"unit\": \"percent\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 73\n      },\n      \"id\": 25,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"(kubelet_volume_stats_used_bytes{namespace=~\\\"$namespace\\\"} / kubelet_volume_stats_capacity_bytes{namespace=~\\\"$namespace\\\"}) * 100\",\n          \"legendFormat\": \"{{namespace}}/{{persistentvolumeclaim}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"PV Capacity Utilization\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"collapsed\": false,\n      \"gridPos\": {\n        \"h\": 1,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 81\n      },\n      \"id\": 105,\n      \"panels\": [],\n      \"title\": \"Network Metrics\",\n      \"type\": \"row\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"Bps\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 82\n      },\n      \"id\": 26,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_network_receive_bytes_total{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}[5m])) by (pod, namespace)\",\n          \"legendFormat\": \"{{namespace}}/{{pod}} - receive\",\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_network_transmit_bytes_total{namespace=~\\\"$namespace\\\", pod!=\\\"\\\"}[5m])) by (pod, namespace)\",\n          \"legendFormat\": \"{{namespace}}/{{pod}} - transmit\",\n          \"refId\": \"B\"\n        }\n      ],\n      \"title\": \"Network I/O by Pod\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"pps\"\n        },\n        \"overrides\": [\n          {\n            \"matcher\": {\n              \"id\": \"byRegexp\",\n              \"options\": \".*errors.*\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"color\",\n                \"value\": {\n                  \"fixedColor\": \"red\",\n                  \"mode\": \"fixed\"\n                }\n              }\n            ]\n          },\n          {\n            \"matcher\": {\n              \"id\": \"byRegexp\",\n              \"options\": \".*drops.*\"\n            },\n            \"properties\": [\n              {\n                \"id\": \"color\",\n                \"value\": {\n                  \"fixedColor\": \"orange\",\n                  \"mode\": \"fixed\"\n                }\n              }\n            ]\n          }\n        ]\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 82\n      },\n      \"id\": 27,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_network_receive_errors_total{namespace=~\\\"$namespace\\\"}[5m])) by (namespace)\",\n          \"legendFormat\": \"{{namespace}} - receive errors\",\n          \"refId\": \"A\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_network_transmit_errors_total{namespace=~\\\"$namespace\\\"}[5m])) by (namespace)\",\n          \"legendFormat\": \"{{namespace}} - transmit errors\",\n          \"refId\": \"B\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_network_receive_packets_dropped_total{namespace=~\\\"$namespace\\\"}[5m])) by (namespace)\",\n          \"legendFormat\": \"{{namespace}} - receive drops\",\n          \"refId\": \"C\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(container_network_transmit_packets_dropped_total{namespace=~\\\"$namespace\\\"}[5m])) by (namespace)\",\n          \"legendFormat\": \"{{namespace}} - transmit drops\",\n          \"refId\": \"D\"\n        }\n      ],\n      \"title\": \"Network Errors and Drops\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 20,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"reqps\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 90\n      },\n      \"id\": 28,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\n            \"last\",\n            \"max\",\n            \"mean\"\n          ],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.0.0\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(traefik_service_requests_total{namespace=~\\\"$namespace\\\"}[5m])) by (service)\",\n          \"legendFormat\": \"{{service}}\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Ingress Request Rate\",\n      \"type\": \"timeseries\"\n    }\n  ],\n  \"refresh\": \"30s\",\n  \"schemaVersion\": 38,\n  \"style\": \"dark\",\n  \"tags\": [\n    \"kubernetes\",\n    \"cluster\",\n    \"monitoring\",\n    \"k3s\"\n  ],\n  \"templating\": {\n    \"list\": [\n      {\n        \"allValue\": \".*\",\n        \"current\": {\n          \"selected\": true,\n          \"text\": \"All\",\n          \"value\": \"$__all\"\n        },\n        \"datasource\": {\n          \"type\": \"prometheus\",\n          \"uid\": \"prometheus\"\n        },\n        \"definition\": \"label_values(kube_namespace_labels, namespace)\",\n        \"hide\": 0,\n        \"includeAll\": true,\n        \"label\": \"Namespace\",\n        \"multi\": true,\n        \"name\": \"namespace\",\n        \"options\": [],\n        \"query\": {\n          \"query\": \"label_values(kube_namespace_labels, namespace)\",\n          \"refId\": \"PrometheusVariableQueryEditor-VariableQuery\"\n        },\n        \"refresh\": 1,\n        \"regex\": \"\",\n        \"skipUrlSync\": false,\n        \"sort\": 1,\n        \"type\": \"query\"\n      }\n    ]\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {\n    \"refresh_intervals\": [\n      \"10s\",\n      \"30s\",\n      \"1m\",\n      \"5m\",\n      \"15m\",\n      \"30m\",\n      \"1h\",\n      \"2h\",\n      \"1d\"\n    ]\n  },\n  \"timezone\": \"browser\",\n  \"title\": \"Kubernetes Cluster Monitoring Dashboard\",\n  \"uid\": \"k8s-cluster-monitoring\",\n  \"version\": 1,\n  \"weekStart\": \"\"\n}\n"},"kind":"ConfigMap","metadata":{"annotations":{},"creationTimestamp":null,"name":"grafana-dashboard-kubernetes","namespace":"monitoring"}}
    name: grafana-dashboard-kubernetes
    namespace: monitoring
- apiVersion: v1
  data:
    core-pipeline-red.json: |
      {
        "annotations": {
          "list": [
            {
              "builtIn": 1,
              "datasource": {
                "type": "datasource",
                "uid": "grafana"
              },
              "enable": true,
              "hide": false,
              "iconColor": "rgba(0, 211, 255, 1)",
              "name": "Annotations & Alerts",
              "type": "dashboard"
            },
            {
              "datasource": {
                "type": "datasource",
                "uid": "-- Grafana --"
              },
              "enable": true,
              "hide": false,
              "iconColor": "rgb(255, 96, 96)",
              "name": "Deployments",
              "filter": {
                "tags": ["deployment"]
              },
              "type": "tags"
            }
          ]
        },
        "editable": true,
        "fiscalYearStartMonth": 0,
        "graphTooltip": 0,
        "id": null,
        "links": [],
        "liveNow": false,
        "panels": [
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 0,
              "y": 0
            },
            "id": 1,
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(http_requests_total{app=\"core-pipeline\"}[5m])) by (namespace)",
                "refId": "A",
                "legendFormat": "{{namespace}}"
              }
            ],
            "title": "Request Rate (Requests/sec)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 0.01
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 12,
              "x": 12,
              "y": 0
            },
            "id": 2,
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(http_requests_total{app=\"core-pipeline\",status=~\"5..\"}[5m])) by (namespace) / sum(rate(http_requests_total{app=\"core-pipeline\"}[5m])) by (namespace)",
                "refId": "A",
                "legendFormat": "{{namespace}} error rate"
              }
            ],
            "title": "Error Rate (5xx errors)",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "barAlignment": 0,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "tooltip": false,
                    "viz": false,
                    "legend": false
                  },
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 8,
              "w": 24,
              "x": 0,
              "y": 8
            },
            "id": 3,
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull", "max"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "mode": "multi",
                "sort": "none"
              }
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "histogram_quantile(0.50, sum(rate(http_request_duration_seconds_bucket{app=\"core-pipeline\"}[5m])) by (le, namespace))",
                "refId": "A",
                "legendFormat": "{{namespace}} p50"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket{app=\"core-pipeline\"}[5m])) by (le, namespace))",
                "refId": "B",
                "legendFormat": "{{namespace}} p95"
              },
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "histogram_quantile(0.99, sum(rate(http_request_duration_seconds_bucket{app=\"core-pipeline\"}[5m])) by (le, namespace))",
                "refId": "C",
                "legendFormat": "{{namespace}} p99"
              }
            ],
            "title": "Request Duration (Latency) - p50, p95, p99",
            "type": "timeseries"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 100
                    },
                    {
                      "color": "red",
                      "value": 500
                    }
                  ]
                },
                "unit": "reqps"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 0,
              "y": 16
            },
            "id": 4,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": ["lastNotNull"],
                "fields": ""
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(http_requests_total{app=\"core-pipeline\"}[5m]))",
                "refId": "A"
              }
            ],
            "title": "Total Request Rate",
            "type": "gauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 0.001
                    },
                    {
                      "color": "red",
                      "value": 0.01
                    }
                  ]
                },
                "unit": "percentunit"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 6,
              "y": 16
            },
            "id": 5,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": ["lastNotNull"],
                "fields": ""
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(rate(http_requests_total{app=\"core-pipeline\",status=~\"5..\"}[5m])) / sum(rate(http_requests_total{app=\"core-pipeline\"}[5m]))",
                "refId": "A"
              }
            ],
            "title": "Overall Error Rate",
            "type": "gauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "yellow",
                      "value": 0.5
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 12,
              "y": 16
            },
            "id": 6,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": ["lastNotNull"],
                "fields": ""
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket{app=\"core-pipeline\"}[5m])) by (le))",
                "refId": "A"
              }
            ],
            "title": "P95 Latency",
            "type": "gauge"
          },
          {
            "datasource": {
              "type": "prometheus",
              "uid": "prometheus"
            },
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green",
                      "value": null
                    },
                    {
                      "color": "red",
                      "value": 1
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "gridPos": {
              "h": 4,
              "w": 6,
              "x": 18,
              "y": 16
            },
            "id": 7,
            "options": {
              "orientation": "auto",
              "reduceOptions": {
                "values": false,
                "calcs": ["lastNotNull"],
                "fields": ""
              },
              "showThresholdLabels": false,
              "showThresholdMarkers": true,
              "text": {}
            },
            "pluginVersion": "10.2.3",
            "targets": [
              {
                "datasource": {
                  "type": "prometheus",
                  "uid": "prometheus"
                },
                "expr": "sum(up{job=~\"core-pipeline.*\"})",
                "refId": "A"
              }
            ],
            "title": "Healthy Instances",
            "type": "gauge"
          }
        ],
        "refresh": "30s",
        "schemaVersion": 38,
        "style": "dark",
        "tags": ["core-pipeline", "RED"],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {},
        "timezone": "",
        "title": "Core Pipeline - RED Metrics",
        "uid": "core-pipeline-red",
        "version": 1,
        "weekStart": ""
      }
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"core-pipeline-red.json":"{\n  \"annotations\": {\n    \"list\": [\n      {\n        \"builtIn\": 1,\n        \"datasource\": {\n          \"type\": \"datasource\",\n          \"uid\": \"grafana\"\n        },\n        \"enable\": true,\n        \"hide\": false,\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\n        \"name\": \"Annotations \u0026 Alerts\",\n        \"type\": \"dashboard\"\n      },\n      {\n        \"datasource\": {\n          \"type\": \"datasource\",\n          \"uid\": \"-- Grafana --\"\n        },\n        \"enable\": true,\n        \"hide\": false,\n        \"iconColor\": \"rgb(255, 96, 96)\",\n        \"name\": \"Deployments\",\n        \"filter\": {\n          \"tags\": [\"deployment\"]\n        },\n        \"type\": \"tags\"\n      }\n    ]\n  },\n  \"editable\": true,\n  \"fiscalYearStartMonth\": 0,\n  \"graphTooltip\": 0,\n  \"id\": null,\n  \"links\": [],\n  \"liveNow\": false,\n  \"panels\": [\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 10,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              }\n            ]\n          },\n          \"unit\": \"reqps\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 0,\n        \"y\": 0\n      },\n      \"id\": 1,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\"mean\", \"lastNotNull\"],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(http_requests_total{app=\\\"core-pipeline\\\"}[5m])) by (namespace)\",\n          \"refId\": \"A\",\n          \"legendFormat\": \"{{namespace}}\"\n        }\n      ],\n      \"title\": \"Request Rate (Requests/sec)\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 10,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 0.01\n              }\n            ]\n          },\n          \"unit\": \"percentunit\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 12,\n        \"x\": 12,\n        \"y\": 0\n      },\n      \"id\": 2,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\"mean\", \"lastNotNull\"],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(http_requests_total{app=\\\"core-pipeline\\\",status=~\\\"5..\\\"}[5m])) by (namespace) / sum(rate(http_requests_total{app=\\\"core-pipeline\\\"}[5m])) by (namespace)\",\n          \"refId\": \"A\",\n          \"legendFormat\": \"{{namespace}} error rate\"\n        }\n      ],\n      \"title\": \"Error Rate (5xx errors)\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"palette-classic\"\n          },\n          \"custom\": {\n            \"axisCenteredZero\": false,\n            \"axisColorMode\": \"text\",\n            \"axisLabel\": \"\",\n            \"axisPlacement\": \"auto\",\n            \"barAlignment\": 0,\n            \"drawStyle\": \"line\",\n            \"fillOpacity\": 10,\n            \"gradientMode\": \"none\",\n            \"hideFrom\": {\n              \"tooltip\": false,\n              \"viz\": false,\n              \"legend\": false\n            },\n            \"lineInterpolation\": \"linear\",\n            \"lineWidth\": 1,\n            \"pointSize\": 5,\n            \"scaleDistribution\": {\n              \"type\": \"linear\"\n            },\n            \"showPoints\": \"never\",\n            \"spanNulls\": false,\n            \"stacking\": {\n              \"group\": \"A\",\n              \"mode\": \"none\"\n            },\n            \"thresholdsStyle\": {\n              \"mode\": \"off\"\n            }\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 0.5\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 1\n              }\n            ]\n          },\n          \"unit\": \"s\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 8,\n        \"w\": 24,\n        \"x\": 0,\n        \"y\": 8\n      },\n      \"id\": 3,\n      \"options\": {\n        \"legend\": {\n          \"calcs\": [\"mean\", \"lastNotNull\", \"max\"],\n          \"displayMode\": \"table\",\n          \"placement\": \"bottom\",\n          \"showLegend\": true\n        },\n        \"tooltip\": {\n          \"mode\": \"multi\",\n          \"sort\": \"none\"\n        }\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"histogram_quantile(0.50, sum(rate(http_request_duration_seconds_bucket{app=\\\"core-pipeline\\\"}[5m])) by (le, namespace))\",\n          \"refId\": \"A\",\n          \"legendFormat\": \"{{namespace}} p50\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket{app=\\\"core-pipeline\\\"}[5m])) by (le, namespace))\",\n          \"refId\": \"B\",\n          \"legendFormat\": \"{{namespace}} p95\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"histogram_quantile(0.99, sum(rate(http_request_duration_seconds_bucket{app=\\\"core-pipeline\\\"}[5m])) by (le, namespace))\",\n          \"refId\": \"C\",\n          \"legendFormat\": \"{{namespace}} p99\"\n        }\n      ],\n      \"title\": \"Request Duration (Latency) - p50, p95, p99\",\n      \"type\": \"timeseries\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 100\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 500\n              }\n            ]\n          },\n          \"unit\": \"reqps\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\": 0,\n        \"y\": 16\n      },\n      \"id\": 4,\n      \"options\": {\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\"lastNotNull\"],\n          \"fields\": \"\"\n        },\n        \"showThresholdLabels\": false,\n        \"showThresholdMarkers\": true\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(http_requests_total{app=\\\"core-pipeline\\\"}[5m]))\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Total Request Rate\",\n      \"type\": \"gauge\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 0.001\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 0.01\n              }\n            ]\n          },\n          \"unit\": \"percentunit\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\": 6,\n        \"y\": 16\n      },\n      \"id\": 5,\n      \"options\": {\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\"lastNotNull\"],\n          \"fields\": \"\"\n        },\n        \"showThresholdLabels\": false,\n        \"showThresholdMarkers\": true\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(rate(http_requests_total{app=\\\"core-pipeline\\\",status=~\\\"5..\\\"}[5m])) / sum(rate(http_requests_total{app=\\\"core-pipeline\\\"}[5m]))\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Overall Error Rate\",\n      \"type\": \"gauge\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"yellow\",\n                \"value\": 0.5\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 1\n              }\n            ]\n          },\n          \"unit\": \"s\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\": 12,\n        \"y\": 16\n      },\n      \"id\": 6,\n      \"options\": {\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\"lastNotNull\"],\n          \"fields\": \"\"\n        },\n        \"showThresholdLabels\": false,\n        \"showThresholdMarkers\": true\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket{app=\\\"core-pipeline\\\"}[5m])) by (le))\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"P95 Latency\",\n      \"type\": \"gauge\"\n    },\n    {\n      \"datasource\": {\n        \"type\": \"prometheus\",\n        \"uid\": \"prometheus\"\n      },\n      \"fieldConfig\": {\n        \"defaults\": {\n          \"color\": {\n            \"mode\": \"thresholds\"\n          },\n          \"mappings\": [],\n          \"thresholds\": {\n            \"mode\": \"absolute\",\n            \"steps\": [\n              {\n                \"color\": \"green\",\n                \"value\": null\n              },\n              {\n                \"color\": \"red\",\n                \"value\": 1\n              }\n            ]\n          },\n          \"unit\": \"short\"\n        },\n        \"overrides\": []\n      },\n      \"gridPos\": {\n        \"h\": 4,\n        \"w\": 6,\n        \"x\": 18,\n        \"y\": 16\n      },\n      \"id\": 7,\n      \"options\": {\n        \"orientation\": \"auto\",\n        \"reduceOptions\": {\n          \"values\": false,\n          \"calcs\": [\"lastNotNull\"],\n          \"fields\": \"\"\n        },\n        \"showThresholdLabels\": false,\n        \"showThresholdMarkers\": true,\n        \"text\": {}\n      },\n      \"pluginVersion\": \"10.2.3\",\n      \"targets\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"prometheus\"\n          },\n          \"expr\": \"sum(up{job=~\\\"core-pipeline.*\\\"})\",\n          \"refId\": \"A\"\n        }\n      ],\n      \"title\": \"Healthy Instances\",\n      \"type\": \"gauge\"\n    }\n  ],\n  \"refresh\": \"30s\",\n  \"schemaVersion\": 38,\n  \"style\": \"dark\",\n  \"tags\": [\"core-pipeline\", \"RED\"],\n  \"templating\": {\n    \"list\": []\n  },\n  \"time\": {\n    \"from\": \"now-1h\",\n    \"to\": \"now\"\n  },\n  \"timepicker\": {},\n  \"timezone\": \"\",\n  \"title\": \"Core Pipeline - RED Metrics\",\n  \"uid\": \"core-pipeline-red\",\n  \"version\": 1,\n  \"weekStart\": \"\"\n}\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"grafana-dashboards","namespace":"monitoring"}}
    name: grafana-dashboards
    namespace: monitoring
- apiVersion: v1
  data:
    dashboards.yaml: |
      apiVersion: 1
      providers:
        - name: 'RED Metrics'
          orgId: 1
          folder: 'Core Pipeline'
          type: file
          disableDeletion: false
          editable: true
          options:
            path: /etc/grafana/dashboards/red
        - name: 'Kubernetes'
          orgId: 1
          folder: 'Infrastructure'
          type: file
          disableDeletion: false
          editable: true
          options:
            path: /etc/grafana/dashboards/k8s
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"dashboards.yaml":"apiVersion: 1\nproviders:\n  - name: 'RED Metrics'\n    orgId: 1\n    folder: 'Core Pipeline'\n    type: file\n    disableDeletion: false\n    editable: true\n    options:\n      path: /etc/grafana/dashboards/red\n  - name: 'Kubernetes'\n    orgId: 1\n    folder: 'Infrastructure'\n    type: file\n    disableDeletion: false\n    editable: true\n    options:\n      path: /etc/grafana/dashboards/k8s\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"grafana-dashboards-provider","namespace":"monitoring"}}
    name: grafana-dashboards-provider
    namespace: monitoring
- apiVersion: v1
  data:
    datasources.yaml: |
      apiVersion: 1
      datasources:
        - name: Prometheus
          type: prometheus
          access: proxy
          url: http://prometheus.monitoring.svc.cluster.local:9090
          isDefault: true
          editable: false
          jsonData:
            timeInterval: 15s

        - name: Loki
          type: loki
          access: proxy
          url: http://loki.monitoring.svc.cluster.local:3100
          editable: false
          jsonData:
            maxLines: 1000

        - name: Tempo
          type: tempo
          access: proxy
          url: http://tempo.monitoring.svc.cluster.local:3200
          editable: false
          jsonData:
            tracesToLogs:
              datasourceUid: loki
              filterByTraceID: true
              filterBySpanID: false
            serviceMap:
              datasourceUid: prometheus
            nodeGraph:
              enabled: true
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
    name: grafana-datasources
    namespace: monitoring
- apiVersion: v1
  data:
    ca.crt: |
      -----BEGIN CERTIFICATE-----
      MIIBdzCCAR2gAwIBAgIBADAKBggqhkjOPQQDAjAjMSEwHwYDVQQDDBhrM3Mtc2Vy
      dmVyLWNhQDE3NTk3MTE0NTkwHhcNMjUxMDA2MDA0NDE5WhcNMzUxMDA0MDA0NDE5
      WjAjMSEwHwYDVQQDDBhrM3Mtc2VydmVyLWNhQDE3NTk3MTE0NTkwWTATBgcqhkjO
      PQIBBggqhkjOPQMBBwNCAARqGCXrxGpCMBkpMFvc0L21JXhiw3vTnT+gHqVRkI37
      9yo8rZpCpmRxhpdn0DzIu3w2jDUBqRRUhd9BMc2zu8wDo0IwQDAOBgNVHQ8BAf8E
      BAMCAqQwDwYDVR0TAQH/BAUwAwEB/zAdBgNVHQ4EFgQUeZJG2OGuD6C3OiA9qA17
      dHxqCPUwCgYIKoZIzj0EAwIDSAAwRQIhAPnZhOfemvbu3wUUCI39bFiqaPoHp+jS
      mbHSD/JWBs3qAiAoPvUgbQvHvHEr0IrqNFFJvNOFecO+OwFznWbGebi9Qw==
      -----END CERTIFICATE-----
  kind: ConfigMap
  metadata:
    annotations:
      kubernetes.io/description: Contains a CA bundle that can be used to verify the
        kube-apiserver when using internal endpoints such as the internal service
        IP or kubernetes.default.svc. No other usage is guaranteed across distributions
        of Kubernetes clusters.
    name: kube-root-ca.crt
    namespace: monitoring
- apiVersion: v1
  data:
    loki.yaml: |
      auth_enabled: false

      server:
        http_listen_port: 3100

      common:
        path_prefix: /loki
        storage:
          filesystem:
            chunks_directory: /loki/chunks
            rules_directory: /loki/rules
        replication_factor: 1
        ring:
          kvstore:
            store: inmemory

      schema_config:
        configs:
          - from: 2020-10-24
            store: boltdb-shipper
            object_store: filesystem
            schema: v11
            index:
              prefix: index_
              period: 24h

      ruler:
        alertmanager_url: http://localhost:9093

      limits_config:
        retention_period: 720h  # 30 days
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"loki.yaml":"auth_enabled: false\n\nserver:\n  http_listen_port: 3100\n\ncommon:\n  path_prefix: /loki\n  storage:\n    filesystem:\n      chunks_directory: /loki/chunks\n      rules_directory: /loki/rules\n  replication_factor: 1\n  ring:\n    kvstore:\n      store: inmemory\n\nschema_config:\n  configs:\n    - from: 2020-10-24\n      store: boltdb-shipper\n      object_store: filesystem\n      schema: v11\n      index:\n        prefix: index_\n        period: 24h\n\nruler:\n  alertmanager_url: http://localhost:9093\n\nlimits_config:\n  retention_period: 720h  # 30 days\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"loki-config","namespace":"monitoring"}}
    name: loki-config
    namespace: monitoring
- apiVersion: v1
  data:
    prometheus.yml: |
      global:
        scrape_interval: 15s
        evaluation_interval: 15s

      scrape_configs:
        # Core Pipeline Production
        - job_name: 'core-pipeline-prod'
          kubernetes_sd_configs:
          - role: endpoints
            namespaces:
              names:
              - core-pipeline-production
          relabel_configs:
          - source_labels: [__meta_kubernetes_service_name]
            action: keep
            regex: core-pipeline-kuberoapp
          - source_labels: [__meta_kubernetes_endpoint_port_name]
            action: keep
            regex: http
          - source_labels: [__meta_kubernetes_namespace]
            target_label: namespace
          - source_labels: [__meta_kubernetes_pod_name]
            target_label: pod
          - source_labels: [__address__]
            target_label: __address__
            regex: (.+):(.+)
            replacement: $1:3000
          metric_relabel_configs:
          - source_labels: [__name__]
            target_label: job
            replacement: core-pipeline-prod

        # Core Pipeline Development
        - job_name: 'core-pipeline-dev'
          kubernetes_sd_configs:
          - role: endpoints
            namespaces:
              names:
              - core-pipeline-test
          relabel_configs:
          - source_labels: [__meta_kubernetes_service_name]
            action: keep
            regex: core-pipeline-dev-kuberoapp
          - source_labels: [__meta_kubernetes_endpoint_port_name]
            action: keep
            regex: http
          - source_labels: [__meta_kubernetes_namespace]
            target_label: namespace
          - source_labels: [__meta_kubernetes_pod_name]
            target_label: pod
          - source_labels: [__address__]
            target_label: __address__
            regex: (.+):(.+)
            replacement: $1:3000

        # PostgreSQL Exporter
        - job_name: 'postgresql'
          static_configs:
          - targets: ['postgresql-exporter.monitoring.svc.cluster.local:9187']
            labels:
              service: postgresql

        # Redis Exporter
        - job_name: 'redis'
          static_configs:
          - targets: ['redis-exporter.monitoring.svc.cluster.local:9121']
            labels:
              service: redis

        # Kafka Exporter
        - job_name: 'kafka'
          static_configs:
          - targets: ['kafka-exporter.monitoring.svc.cluster.local:9308']
            labels:
              service: kafka

        # Kube-State-Metrics (Kubernetes cluster metrics)
        - job_name: 'kube-state-metrics'
          static_configs:
          - targets: ['kube-state-metrics.monitoring.svc.cluster.local:8080']
            labels:
              component: kube-state-metrics

        # Node Exporter (Node/Hardware metrics)
        - job_name: 'node-exporter'
          kubernetes_sd_configs:
          - role: node
          relabel_configs:
          - source_labels: [__address__]
            regex: '(.*):10250'
            replacement: '${1}:9100'
            target_label: __address__
          - source_labels: [__meta_kubernetes_node_name]
            target_label: node
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"prometheus.yml":"global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nscrape_configs:\n  # Core Pipeline Production\n  - job_name: 'core-pipeline-prod'\n    kubernetes_sd_configs:\n    - role: endpoints\n      namespaces:\n        names:\n        - core-pipeline-production\n    relabel_configs:\n    - source_labels: [__meta_kubernetes_service_name]\n      action: keep\n      regex: core-pipeline-kuberoapp\n    - source_labels: [__meta_kubernetes_endpoint_port_name]\n      action: keep\n      regex: http\n    - source_labels: [__meta_kubernetes_namespace]\n      target_label: namespace\n    - source_labels: [__meta_kubernetes_pod_name]\n      target_label: pod\n    - source_labels: [__address__]\n      target_label: __address__\n      regex: (.+):(.+)\n      replacement: $1:3000\n    metric_relabel_configs:\n    - source_labels: [__name__]\n      target_label: job\n      replacement: core-pipeline-prod\n\n  # Core Pipeline Development\n  - job_name: 'core-pipeline-dev'\n    kubernetes_sd_configs:\n    - role: endpoints\n      namespaces:\n        names:\n        - core-pipeline-test\n    relabel_configs:\n    - source_labels: [__meta_kubernetes_service_name]\n      action: keep\n      regex: core-pipeline-dev-kuberoapp\n    - source_labels: [__meta_kubernetes_endpoint_port_name]\n      action: keep\n      regex: http\n    - source_labels: [__meta_kubernetes_namespace]\n      target_label: namespace\n    - source_labels: [__meta_kubernetes_pod_name]\n      target_label: pod\n    - source_labels: [__address__]\n      target_label: __address__\n      regex: (.+):(.+)\n      replacement: $1:3000\n\n  # PostgreSQL Exporter\n  - job_name: 'postgresql'\n    static_configs:\n    - targets: ['postgresql-exporter.monitoring.svc.cluster.local:9187']\n      labels:\n        service: postgresql\n\n  # Redis Exporter\n  - job_name: 'redis'\n    static_configs:\n    - targets: ['redis-exporter.monitoring.svc.cluster.local:9121']\n      labels:\n        service: redis\n\n  # Kafka Exporter\n  - job_name: 'kafka'\n    static_configs:\n    - targets: ['kafka-exporter.monitoring.svc.cluster.local:9308']\n      labels:\n        service: kafka\n\n  # Kube-State-Metrics (Kubernetes cluster metrics)\n  - job_name: 'kube-state-metrics'\n    static_configs:\n    - targets: ['kube-state-metrics.monitoring.svc.cluster.local:8080']\n      labels:\n        component: kube-state-metrics\n\n  # Node Exporter (Node/Hardware metrics)\n  - job_name: 'node-exporter'\n    kubernetes_sd_configs:\n    - role: node\n    relabel_configs:\n    - source_labels: [__address__]\n      regex: '(.*):10250'\n      replacement: '${1}:9100'\n      target_label: __address__\n    - source_labels: [__meta_kubernetes_node_name]\n      target_label: node\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"prometheus-config","namespace":"monitoring"}}
    name: prometheus-config
    namespace: monitoring
- apiVersion: v1
  data:
    promtail.yaml: |
      server:
        http_listen_port: 9080
        grpc_listen_port: 0

      positions:
        filename: /tmp/positions.yaml

      clients:
        - url: http://loki:3100/loki/api/v1/push

      scrape_configs:
        - job_name: kubernetes-pods
          kubernetes_sd_configs:
            - role: pod
          relabel_configs:
            - source_labels:
                - __meta_kubernetes_pod_label_app
              target_label: app
            - source_labels:
                - __meta_kubernetes_namespace
              target_label: namespace
            - source_labels:
                - __meta_kubernetes_pod_name
              target_label: pod
            - source_labels:
                - __meta_kubernetes_pod_container_name
              target_label: container
            - action: replace
              source_labels:
                - __meta_kubernetes_pod_node_name
              target_label: node_name
            - action: replace
              source_labels:
                - __meta_kubernetes_namespace
              target_label: namespace
            - action: replace
              replacement: /var/log/pods/*$1/*.log
              separator: /
              source_labels:
                - __meta_kubernetes_pod_uid
                - __meta_kubernetes_pod_container_name
              target_label: __path__
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"promtail.yaml":"server:\n  http_listen_port: 9080\n  grpc_listen_port: 0\n\npositions:\n  filename: /tmp/positions.yaml\n\nclients:\n  - url: http://loki:3100/loki/api/v1/push\n\nscrape_configs:\n  - job_name: kubernetes-pods\n    kubernetes_sd_configs:\n      - role: pod\n    relabel_configs:\n      - source_labels:\n          - __meta_kubernetes_pod_label_app\n        target_label: app\n      - source_labels:\n          - __meta_kubernetes_namespace\n        target_label: namespace\n      - source_labels:\n          - __meta_kubernetes_pod_name\n        target_label: pod\n      - source_labels:\n          - __meta_kubernetes_pod_container_name\n        target_label: container\n      - action: replace\n        source_labels:\n          - __meta_kubernetes_pod_node_name\n        target_label: node_name\n      - action: replace\n        source_labels:\n          - __meta_kubernetes_namespace\n        target_label: namespace\n      - action: replace\n        replacement: /var/log/pods/*$1/*.log\n        separator: /\n        source_labels:\n          - __meta_kubernetes_pod_uid\n          - __meta_kubernetes_pod_container_name\n        target_label: __path__\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"promtail-config","namespace":"monitoring"}}
    name: promtail-config
    namespace: monitoring
- apiVersion: v1
  data:
    tempo.yaml: |
      server:
        http_listen_port: 3200

      distributor:
        receivers:
          jaeger:
            protocols:
              thrift_http:
                endpoint: 0.0.0.0:14268
              grpc:
                endpoint: 0.0.0.0:14250
          otlp:
            protocols:
              http:
                endpoint: 0.0.0.0:4318
              grpc:
                endpoint: 0.0.0.0:4317

      ingester:
        trace_idle_period: 10s
        max_block_bytes: 1_000_000
        max_block_duration: 5m

      compactor:
        compaction:
          block_retention: 1h

      storage:
        trace:
          backend: local
          local:
            path: /var/tempo/traces
          wal:
            path: /var/tempo/wal
          pool:
            max_workers: 100
            queue_depth: 10000
  kind: ConfigMap
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","data":{"tempo.yaml":"server:\n  http_listen_port: 3200\n\ndistributor:\n  receivers:\n    jaeger:\n      protocols:\n        thrift_http:\n          endpoint: 0.0.0.0:14268\n        grpc:\n          endpoint: 0.0.0.0:14250\n    otlp:\n      protocols:\n        http:\n          endpoint: 0.0.0.0:4318\n        grpc:\n          endpoint: 0.0.0.0:4317\n\ningester:\n  trace_idle_period: 10s\n  max_block_bytes: 1_000_000\n  max_block_duration: 5m\n\ncompactor:\n  compaction:\n    block_retention: 1h\n\nstorage:\n  trace:\n    backend: local\n    local:\n      path: /var/tempo/traces\n    wal:\n      path: /var/tempo/wal\n    pool:\n      max_workers: 100\n      queue_depth: 10000\n"},"kind":"ConfigMap","metadata":{"annotations":{},"name":"tempo-config","namespace":"monitoring"}}
    name: tempo-config
    namespace: monitoring
- apiVersion: networking.k8s.io/v1
  kind: Ingress
  metadata:
    annotations:
      argocd.argoproj.io/tracking-id: infrastructure:networking.k8s.io/Ingress:monitoring/grafana
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"networking.k8s.io/v1","kind":"Ingress","metadata":{"annotations":{"argocd.argoproj.io/tracking-id":"infrastructure:networking.k8s.io/Ingress:monitoring/grafana","cert-manager.io/cluster-issuer":"letsencrypt-prod","nginx.ingress.kubernetes.io/auth-response-headers":"X-Auth-Request-User,X-Auth-Request-Email,Authorization","nginx.ingress.kubernetes.io/auth-signin":"https://auth.theedgestory.org/oauth2/start?rd=$scheme://$host$request_uri","nginx.ingress.kubernetes.io/auth-url":"http://oauth2-proxy.oauth2-proxy.svc.cluster.local:4180/oauth2/auth","nginx.ingress.kubernetes.io/configuration-snippet":"auth_request_set $user $upstream_http_x_auth_request_user;\nauth_request_set $email $upstream_http_x_auth_request_email;\nproxy_set_header X-Auth-Request-Email $email;\nproxy_set_header X-WEBAUTH-USER $email;\n"},"name":"grafana","namespace":"monitoring"},"spec":{"ingressClassName":"nginx","rules":[{"host":"grafana.theedgestory.org","http":{"paths":[{"backend":{"service":{"name":"grafana","port":{"number":80}}},"path":"/","pathType":"Prefix"}]}}],"tls":[{"hosts":["grafana.theedgestory.org"],"secretName":"grafana-tls"}]}}
      nginx.ingress.kubernetes.io/auth-response-headers: X-Auth-Request-User,X-Auth-Request-Email,Authorization
      nginx.ingress.kubernetes.io/auth-signin: https://auth.theedgestory.org/oauth2/start?rd=$scheme://$host$request_uri
      nginx.ingress.kubernetes.io/auth-url: http://oauth2-proxy.oauth2-proxy.svc.cluster.local:4180/oauth2/auth
      nginx.ingress.kubernetes.io/force-ssl-redirect: "false"
      nginx.ingress.kubernetes.io/ssl-redirect: "false"
    name: grafana
    namespace: monitoring
  spec:
    ingressClassName: nginx
    rules:
    - host: grafana.theedgestory.org
      http:
        paths:
        - backend:
            service:
              name: grafana
              port:
                number: 3000
          path: /
          pathType: Prefix
    tls:
    - hosts:
      - grafana.theedgestory.org
      secretName: cloudflare-origin-tls
  status:
    loadBalancer:
      ingress:
      - ip: 46.62.223.198
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"PersistentVolumeClaim","metadata":{"annotations":{},"name":"grafana-storage","namespace":"monitoring"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"10Gi"}},"storageClassName":"local-path"}}
      pv.kubernetes.io/bind-completed: "yes"
      pv.kubernetes.io/bound-by-controller: "yes"
      volume.beta.kubernetes.io/storage-provisioner: rancher.io/local-path
      volume.kubernetes.io/selected-node: ubuntu-16gb-hel1-1
      volume.kubernetes.io/storage-provisioner: rancher.io/local-path
    finalizers:
    - kubernetes.io/pvc-protection
    name: grafana-storage
    namespace: monitoring
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 10Gi
    storageClassName: local-path
    volumeMode: Filesystem
    volumeName: pvc-b4827106-84b0-491a-a048-0894416d0d19
  status:
    accessModes:
    - ReadWriteOnce
    capacity:
      storage: 10Gi
    phase: Bound
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"PersistentVolumeClaim","metadata":{"annotations":{},"name":"prometheus-storage","namespace":"monitoring"},"spec":{"accessModes":["ReadWriteOnce"],"resources":{"requests":{"storage":"50Gi"}},"storageClassName":"local-path"}}
      pv.kubernetes.io/bind-completed: "yes"
      pv.kubernetes.io/bound-by-controller: "yes"
      volume.beta.kubernetes.io/storage-provisioner: rancher.io/local-path
      volume.kubernetes.io/selected-node: ubuntu-16gb-hel1-1
      volume.kubernetes.io/storage-provisioner: rancher.io/local-path
    finalizers:
    - kubernetes.io/pvc-protection
    name: prometheus-storage
    namespace: monitoring
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 50Gi
    storageClassName: local-path
    volumeMode: Filesystem
    volumeName: pvc-cec17454-f42b-4cdc-acc0-e54a1e6999f6
  status:
    accessModes:
    - ReadWriteOnce
    capacity:
      storage: 50Gi
    phase: Bound
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    annotations:
      pv.kubernetes.io/bind-completed: "yes"
      pv.kubernetes.io/bound-by-controller: "yes"
      volume.beta.kubernetes.io/storage-provisioner: rancher.io/local-path
      volume.kubernetes.io/selected-node: ubuntu-16gb-hel1-1
      volume.kubernetes.io/storage-provisioner: rancher.io/local-path
    finalizers:
    - kubernetes.io/pvc-protection
    labels:
      app: loki
    name: storage-loki-0
    namespace: monitoring
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 10Gi
    storageClassName: local-path
    volumeMode: Filesystem
    volumeName: pvc-894a11b6-30d1-4b72-90fc-83ba7cd5cb07
  status:
    accessModes:
    - ReadWriteOnce
    capacity:
      storage: 10Gi
    phase: Bound
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    annotations:
      pv.kubernetes.io/bind-completed: "yes"
      pv.kubernetes.io/bound-by-controller: "yes"
      volume.beta.kubernetes.io/storage-provisioner: rancher.io/local-path
      volume.kubernetes.io/selected-node: ubuntu-16gb-hel1-1
      volume.kubernetes.io/storage-provisioner: rancher.io/local-path
    finalizers:
    - kubernetes.io/pvc-protection
    labels:
      app: tempo
    name: storage-tempo-0
    namespace: monitoring
  spec:
    accessModes:
    - ReadWriteOnce
    resources:
      requests:
        storage: 10Gi
    storageClassName: local-path
    volumeMode: Filesystem
    volumeName: pvc-14b064e4-3b41-48d2-84a1-8eee5c6c15e6
  status:
    accessModes:
    - ReadWriteOnce
    capacity:
      storage: 10Gi
    phase: Bound
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    name: default
    namespace: monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"ServiceAccount","metadata":{"annotations":{},"name":"deployment-tracker","namespace":"monitoring"}}
    name: deployment-tracker
    namespace: monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"ServiceAccount","metadata":{"annotations":{},"name":"kube-state-metrics","namespace":"monitoring"}}
    name: kube-state-metrics
    namespace: monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"ServiceAccount","metadata":{"annotations":{},"name":"prometheus","namespace":"monitoring"}}
    name: prometheus
    namespace: monitoring
- apiVersion: v1
  kind: ServiceAccount
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"v1","kind":"ServiceAccount","metadata":{"annotations":{},"name":"promtail","namespace":"monitoring"}}
    name: promtail
    namespace: monitoring
kind: List
metadata:
